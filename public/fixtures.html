<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sports Fixtures & Schedule - AllSports</title>
  <meta name="description" content="Upcoming sports fixtures, match schedules, and tournament calendars."/>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Additional styles for fixtures page */
    .date-navigation {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--space-4);
      padding: var(--space-3);
      background: rgba(255, 255, 255, 0.05);
      border-radius: var(--radius);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .date-nav-controls {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }
    
    .date-nav-btn {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text-primary);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .date-nav-btn:hover {
      background: rgba(255, 255, 255, 0.12);
      border-color: rgba(255, 255, 255, 0.25);
    }
    
    .date-display {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      min-width: 200px;
      text-align: center;
    }
    
    .quick-dates {
      display: flex;
      gap: var(--space-2);
    }
    
    .quick-date {
      padding: 8px 16px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text-secondary);
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .quick-date:hover {
      background: rgba(255, 255, 255, 0.12);
      color: var(--text-primary);
    }
    
    .quick-date.active {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }
    
    .advanced-filters {
      display: flex;
      gap: var(--space-3);
      margin-bottom: var(--space-4);
      flex-wrap: wrap;
      align-items: end;
    }
    
    .filter-group {
      display: flex;
      flex-direction: column;
      gap: var(--space-1);
    }
    
    .filter-group label {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .filter-select {
      padding: 10px 16px;
      border-radius: var(--radius);
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text-primary);
      font-size: 14px;
      font-family: inherit;
      transition: all 0.3s ease;
      cursor: pointer;
      min-width: 160px;
    }
    
    .filter-select:hover {
      border-color: rgba(255, 255, 255, 0.25);
      background: rgba(255, 255, 255, 0.12);
    }
    
    .filter-select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(232, 29, 47, 0.2);
    }
    
    .fixtures-main {
      padding: var(--space-4) 0;
    }
    
    .fixtures-section {
      margin-bottom: var(--space-4);
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-3);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .section-title {
      font-size: 28px;
      margin: 0;
      color: var(--text-primary);
      position: relative;
      padding-left: 12px;
    }
    
    .section-title::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 24px;
      background: var(--accent);
      border-radius: 2px;
    }
    
    .fixtures-count, .tournament-status {
      background: rgba(255, 255, 255, 0.08);
      padding: 6px 12px;
      border-radius: var(--radius);
      font-size: 14px;
      color: var(--text-secondary);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .view-toggle {
      display: flex;
      gap: var(--space-1);
    }
    
    .view-toggle .btn-small {
      padding: 6px 12px;
      font-size: 13px;
    }
    
    .fixtures-timeline {
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
    }
    
    .time-group {
      background: rgba(255, 255, 255, 0.05);
      border-radius: var(--radius);
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .time-header {
      background: rgba(255, 255, 255, 0.08);
      padding: var(--space-2) var(--space-3);
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .time-label {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    
    .time-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--accent);
      border-radius: 50%;
      font-size: 10px;
    }
    
    .match-count {
      font-size: 13px;
      color: var(--text-secondary);
      background: rgba(255, 255, 255, 0.1);
      padding: 2px 8px;
      border-radius: 12px;
    }
    
    .time-matches {
      padding: var(--space-3);
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: var(--space-3);
    }
    
    .match-card {
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.1);
      padding: var(--space-3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }
    
    .match-card:hover {
      transform: translateY(-2px);
      border-color: rgba(255,255,255,0.2);
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
    }
    
    .match-card.upcoming {
      border-left: 4px solid #FF9800;
    }
    
    .match-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-2);
    }
    
    .match-sport {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: var(--text-secondary);
      font-weight: 500;
    }
    
    .match-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      font-weight: 600;
      padding: 4px 10px;
      border-radius: 12px;
      background: rgba(255, 152, 0, 0.15);
      color: #FF9800;
    }
    
    .match-competition {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: var(--space-3);
      font-weight: 500;
    }
    
    .match-teams {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
      margin-bottom: var(--space-3);
    }
    
    .team {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .team-info {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    
    .team-logo {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 10px;
      color: white;
      flex-shrink: 0;
      border: 1px solid rgba(255,255,255,0.2);
    }
    
    .team-name {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .team-score {
      font-size: 18px;
      font-weight: 700;
      color: var(--text-primary);
    }
    
    .match-details {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-2);
      margin-bottom: var(--space-3);
      font-size: 13px;
      color: var(--text-secondary);
    }
    
    .match-details div {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .match-actions {
      display: flex;
      gap: var(--space-2);
    }
    
    .match-actions .btn-small {
      flex: 1;
      text-align: center;
      justify-content: center;
    }
    
    /* Enhanced Reminder button transitions */
    .reminder-btn {
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .reminder-btn .btn-text {
      display: block;
      transition: all 0.3s ease;
    }
    
    .reminder-btn .hover-text {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transform: translateY(100%);
      transition: all 0.3s ease;
    }
    
    .reminder-btn.reminder-set {
      background: #4CAF50;
      color: white;
      border-color: #4CAF50;
    }
    
    .reminder-btn.reminder-set:hover {
      background: #388E3C;
      border-color: #388E3C;
    }
    
    .reminder-btn.reminder-set:hover .btn-text {
      opacity: 0;
      transform: translateY(-100%);
    }
    
    .reminder-btn.reminder-set:hover .hover-text {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* League fixtures */
    .league-fixtures {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }
    
    .league-group {
      background: rgba(255, 255, 255, 0.05);
      border-radius: var(--radius);
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .league-header {
      background: rgba(255, 255, 255, 0.08);
      padding: var(--space-3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .league-info {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    
    .league-logo {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 10px;
      color: white;
      flex-shrink: 0;
      border: 1px solid rgba(255,255,255,0.2);
    }
    
    .league-name {
      font-weight: 600;
      color: var(--text-primary);
      font-size: 18px;
    }
    
    .league-matches {
      padding: var(--space-3);
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: var(--space-3);
    }
    
    /* Tournaments grid */
    .tournaments-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: var(--space-3);
    }
    
    .tournament-card {
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.1);
      padding: var(--space-3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .tournament-card:hover {
      transform: translateY(-2px);
      border-color: rgba(255,255,255,0.2);
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
    }
    
    .tournament-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: var(--space-2);
    }
    
    .tournament-sport {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: var(--text-secondary);
      font-weight: 500;
    }
    
    .tournament-status-badge {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .tournament-status-badge.ongoing {
      background: rgba(232, 29, 47, 0.15);
      color: var(--accent);
    }
    
    .tournament-status-badge.upcoming {
      background: rgba(255, 152, 0, 0.15);
      color: #FF9800;
    }
    
    .tournament-name {
      font-size: 20px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: var(--space-2);
    }
    
    .tournament-dates {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: var(--space-3);
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .tournament-teams {
      display: flex;
      align-items: center;
      margin-bottom: var(--space-3);
    }
    
    .team-avatars {
      display: flex;
    }
    
    .team-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 10px;
      color: white;
      border: 2px solid var(--card);
      margin-left: -8px;
    }
    
    .team-avatar:first-child {
      margin-left: 0;
    }
    
    .teams-count {
      margin-left: var(--space-2);
      font-size: 14px;
      color: var(--text-secondary);
    }
    
    .tournament-actions {
      display: flex;
      gap: var(--space-2);
    }
    
    .tournament-actions .btn-small {
      flex: 1;
      text-align: center;
      justify-content: center;
    }
    
    /* Modal styles */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .modal.active {
      opacity: 1;
      visibility: visible;
    }
    
    .modal-content {
      background: var(--card);
      border-radius: var(--radius);
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      transform: translateY(30px);
      transition: transform 0.3s ease;
    }
    
    .modal.active .modal-content {
      transform: translateY(0);
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--space-4);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .modal-title {
      font-size: 24px;
      margin: 0;
      color: var(--text-primary);
    }
    
    .modal-close {
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 24px;
      cursor: pointer;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
    }
    
    .modal-close:hover {
      background: rgba(255,255,255,0.1);
      color: var(--text-primary);
    }
    
    .modal-body {
      padding: var(--space-4);
    }
    
    /* Tournament Schedule Styles */
    .tournament-schedule {
      margin-top: 20px;
    }
    
    .schedule-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .schedule-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .schedule-filters {
      display: flex;
      gap: 10px;
    }
    
    .schedule-stage {
      margin-bottom: 25px;
    }
    
    .stage-header {
      background: rgba(255, 255, 255, 0.08);
      padding: 12px 16px;
      font-weight: 600;
      color: var(--text-primary);
      border-radius: 8px;
      margin-bottom: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stage-name {
      font-size: 16px;
    }
    
    .stage-date {
      font-size: 14px;
      color: var(--text-secondary);
    }
    
    .schedule-matches {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 15px;
    }
    
    .schedule-match {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 15px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    
    .schedule-match-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    
    .match-date {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .match-time {
      font-size: 14px;
      color: var(--text-secondary);
      background: rgba(255,255,255,0.1);
      padding: 4px 8px;
      border-radius: 6px;
    }
    
    .schedule-teams {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 12px;
    }
    
    .schedule-team {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .schedule-team-info {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .schedule-team-name {
      font-weight: 500;
      color: var(--text-primary);
    }
    
    .schedule-venue {
      font-size: 12px;
      color: var(--text-secondary);
      text-align: center;
    }
    
    /* Search Results Styles */
    .search-results {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.1);
      z-index: 1000;
      max-height: 400px;
      overflow-y: auto;
      display: none;
    }
    
    .search-results.active {
      display: block;
    }
    
    .search-result-item {
      padding: var(--space-2) var(--space-3);
      border-bottom: 1px solid rgba(255,255,255,0.05);
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    
    .search-result-item:hover {
      background: rgba(255,255,255,0.05);
    }
    
    .search-result-item:last-child {
      border-bottom: none;
    }
    
    .search-result-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }
    
    .search-result-content {
      flex: 1;
    }
    
    .search-result-title {
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 2px;
    }
    
    .search-result-subtitle {
      font-size: 12px;
      color: var(--text-secondary);
    }
    
    .search-result-type {
      font-size: 10px;
      padding: 2px 6px;
      background: var(--accent);
      color: white;
      border-radius: 10px;
      text-transform: uppercase;
    }
    
    .no-results {
      padding: var(--space-3);
      text-align: center;
      color: var(--text-secondary);
    }
    
    /* Toast notification styles */
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent);
      color: white;
      padding: 12px 20px;
      border-radius: var(--radius);
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 1000;
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    /* Empty state */
    .empty-state {
      text-align: center;
      padding: var(--space-6);
      color: var(--text-secondary);
    }
    
    .empty-state-icon {
      font-size: 48px;
      margin-bottom: var(--space-3);
      opacity: 0.5;
    }
    
    .empty-state-text {
      font-size: 18px;
      margin-bottom: var(--space-2);
    }
    
    .empty-state-subtext {
      font-size: 14px;
      opacity: 0.7;
    }
    
    @media (max-width: 768px) {
      .date-navigation {
        flex-direction: column;
        gap: var(--space-3);
      }
      
      .date-nav-controls {
        width: 100%;
        justify-content: space-between;
      }
      
      .quick-dates {
        width: 100%;
        justify-content: center;
      }
      
      .advanced-filters {
        flex-direction: column;
      }
      
      .filter-select {
        min-width: 100%;
      }
      
      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-2);
      }
      
      .time-matches, .league-matches {
        grid-template-columns: 1fr;
      }
      
      .tournaments-grid {
        grid-template-columns: 1fr;
      }
      
      .match-details {
        grid-template-columns: 1fr;
      }
      
      .schedule-matches {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
<!-- Top Color Strip -->
<div class="top-strip" aria-hidden="true"></div>

<!-- Header -->
<header class="site-header" role="banner" id="siteHeader">
  <div class="header-inner">
    <a class="brand" href="/" aria-label="AllSports home">
      <div class="logo">
        <img src="https://i.pinimg.com/736x/1a/03/15/1a0315e084288700eaf5451d53aeffad.jpg" alt="AllSports Logo">
      </div>
      <div class="brand-text">
        <h1>AllSports</h1>
        <p>Latest sports news & live updates</p>
      </div>
    </a>

    <!-- Main Navigation -->
    <nav class="main-nav" role="navigation" aria-label="Primary navigation">
      <ul class="nav-list" role="menubar">
        <li role="none">
          <a role="menuitem" href="index.html" class="nav-link">Home</a>
        </li>
        
        <!-- Sports Dropdown -->
        <li role="none" class="has-dropdown" aria-haspopup="true">
          <button class="nav-link nav-button" aria-controls="sportsMenu" aria-haspopup="true" aria-expanded="false">
            Sports <span class="caret">‚ñæ</span>
          </button>
          <div id="sportsMenu" class="dropdown sports-dropdown" role="menu" aria-hidden="true">
            <div class="dropdown-grid" role="group" aria-label="Sports list">
              <a role="menuitem" href="games/football.html" class="dropdown-item">
                <span class="sport-icon">‚öΩ</span> Football
              </a>
              <a role="menuitem" href="games/cricket.html" class="dropdown-item">
                <span class="sport-icon">üèè</span> Cricket
              </a>
              <a role="menuitem" href="games/basketball.html" class="dropdown-item">
                <span class="sport-icon">üèÄ</span> Basketball
              </a>
              <a role="menuitem" href="games/tennis.html" class="dropdown-item">
                <span class="sport-icon">üéæ</span> Tennis
              </a>
              <a role="menuitem" href="games/baseball.html" class="dropdown-item">
                <span class="sport-icon">‚öæ</span> Baseball
              </a>
              <a role="menuitem" href="games/hockey.html" class="dropdown-item">
                <span class="sport-icon">üèí</span> Hockey
              </a>
              <a role="menuitem" href="games/golf.html" class="dropdown-item">
                <span class="sport-icon">‚õ≥</span> Golf
              </a>
              <a role="menuitem" href="games/rugby.html" class="dropdown-item">
                <span class="sport-icon">üèâ</span> Rugby
              </a>
              <a role="menuitem" href="games/formula1.html" class="dropdown-item">
                <span class="sport-icon">üèéÔ∏è</span> Formula 1
              </a>
              <a role="menuitem" href="games/boxing.html" class="dropdown-item">
                <span class="sport-icon">ü•ä</span> Boxing
              </a>
              <a role="menuitem" href="games/mma.html" class="dropdown-item">
                <span class="sport-icon">ü•ã</span> MMA
              </a>
              <a role="menuitem" href="games/olympics.html" class="dropdown-item">
                <span class="sport-icon">üèÖ</span> Olympics
              </a>
            </div>
          </div>
        </li>

        <li role="none">
          <a role="menuitem" href="scores.html" class="nav-link">Scores</a>
        </li>

        <li role="none">
          <a role="menuitem" href="watch.html" class="nav-link">Watch</a>
        </li>

        <li role="none">
          <a role="menuitem" href="teams.html" class="nav-link">Teams</a>
        </li>

        <li role="none">
          <a role="menuitem" href="players.html" class="nav-link">Players</a>
        </li>

        <li role="none">
          <a role="menuitem" href="fixtures.html" class="nav-link nav-active" aria-current="page">Fixtures</a>
        </li>

        <!-- Profile Link -->
        <li role="none">
          <a role="menuitem" href="profile.html" class="nav-link nav-active" aria-current="page">Profile</a>
        </li>
      </ul>
    </nav>

    <!-- Search and User Area -->
    <div class="header-actions">
      <div class="search" role="search">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input 
          id="searchInput" 
          placeholder="Search fixtures..." 
          aria-label="Search fixtures"
          type="text"
        >
        <div class="search-results" id="searchResults"></div>
      </div>
      
      <!-- User menu -->
      <div class="user-menu">
        <button class="btn btn-login" id="loginBtn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
          <span id="loginText">Login</span>
        </button>
        <div class="user-dropdown" id="userDropdown">
          <a href="#" id="logoutBtn">Sign Out</a>
        </div>
      </div>
    </div>

    <!-- Mobile Hamburger -->
    <button id="mobileToggle" class="hamburger" aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Mobile Navigation Panel -->
  <div id="mobileMenu" class="mobile-panel" aria-hidden="true" role="dialog" aria-label="Mobile navigation">
    <div class="mobile-panel-header">
      <div class="brand">
        <div class="logo">
          <img src="https://i.pinimg.com/736x/1a/03/15/1a0315e084288700eaf5451d53aeffad.jpg" alt="AllSports Logo">
        </div>
        <div class="brand-text">
          <h2>AllSports</h2>
        </div>
      </div>
      <button class="mobile-close" aria-label="Close menu">‚úï</button>
    </div>
    
    <nav class="mobile-nav" role="navigation" aria-label="Mobile navigation">
      <ul class="mobile-nav-list">
        <li><a href="index.html" class="mobile-nav-link">Home</a></li>
        
        <li class="mobile-dropdown">
          <button class="mobile-nav-link mobile-nav-button" aria-expanded="false">
            Sports <span class="mobile-caret">‚ñæ</span>
          </button>
          <div class="mobile-dropdown-menu" aria-hidden="true">
            <a href="games/football.html" class="mobile-dropdown-item">‚öΩ Football</a>
            <a href="games/cricket.html" class="mobile-dropdown-item">üèè Cricket</a>
            <a href="games/basketball.html" class="mobile-dropdown-item">üèÄ Basketball</a>
            <a href="games/tennis.html" class="mobile-dropdown-item">üéæ Tennis</a>
            <a href="games/baseball.html" class="mobile-dropdown-item">‚öæ Baseball</a>
            <a href="games/hockey.html" class="mobile-dropdown-item">üèí Hockey</a>
            <a href="games/golf.html" class="mobile-dropdown-item">‚õ≥ Golf</a>
            <a href="games/rugby.html" class="mobile-dropdown-item">üèâ Rugby</a>
            <a href="games/formula1.html" class="mobile-dropdown-item">üèéÔ∏è Formula 1</a>
            <a href="games/boxing.html" class="mobile-dropdown-item">ü•ä Boxing</a>
            <a href="games/mma.html" class="mobile-dropdown-item">ü•ã MMA</a>
            <a href="games/olympics.html" class="mobile-dropdown-item">üèÖ Olympics</a>
          </div>
        </li>
        
        <li><a href="scores.html" class="mobile-nav-link">Scores</a></li>
        <li><a href="watch.html" class="mobile-nav-link">Watch</a></li>
        <li><a href="teams.html" class="mobile-nav-link">Teams</a></li>
        <li><a href="fixtures.html" class="mobile-nav-link mobile-nav-active">Fixtures</a></li>
        
        <!-- Profile Link -->
        <li role="none">
          <a role="menuitem" href="profile.html" class="nav-link nav-active" aria-current="page">Profile</a>
        </li>
      </ul>
    </nav>

    <div class="mobile-actions">
      <div class="search mobile-search">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input placeholder="Search fixtures..." aria-label="Search fixtures" id="mobileSearchInput">
        <div class="search-results" id="mobileSearchResults"></div>
      </div>
      
      <div class="user-menu">
        <button class="btn btn-login mobile-login" id="mobileLoginBtn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
          <span id="mobileLoginText">Login</span>
        </button>
        <div class="user-dropdown" id="mobileUserDropdown">
          <a href="#" id="mobileLogoutBtn">Sign Out</a>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Main Content -->
<div class="container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">Sports Fixtures</h1>
    <p class="page-subtitle">Upcoming matches, tournament schedules and match calendars</p>
  </div>

  <!-- Date Navigation -->
  <div class="date-navigation" aria-label="Date navigation for fixtures">
    <div class="date-nav-controls">
      <button class="date-nav-btn" id="prevDateBtn" aria-label="Previous day">
        <i class="fas fa-chevron-left"></i>
      </button>
      <div class="date-display" id="currentDateRange">
        Today, <span id="currentDate"></span>
      </div>
      <button class="date-nav-btn" id="nextDateBtn" aria-label="Next day">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    
    <div class="quick-dates">
      <button class="quick-date active" data-days="0">Today</button>
      <button class="quick-date" data-days="1">Tomorrow</button>
      <button class="quick-date" data-days="7">Next Week</button>
    </div>
  </div>

  <!-- Advanced Filters -->
  <div class="advanced-filters" aria-label="Advanced filters for fixtures">
    <div class="filter-group">
      <label for="sportFilter">Sport</label>
      <select id="sportFilter" class="filter-select">
        <option value="All">All Sports</option>
        <option value="Football">‚öΩ Football</option>
        <option value="Cricket">üèè Cricket</option>
        <option value="Basketball">üèÄ Basketball</option>
        <option value="Tennis">üéæ Tennis</option>
        <option value="Baseball">‚öæ Baseball</option>
        <option value="Hockey">üèí Hockey</option>
        <option value="Rugby">üèâ Rugby</option>
        <option value="Boxing">ü•ä Boxing</option>
        <option value="Formula1">üèéÔ∏è Formula 1</option>
        <option value="Golf">‚õ≥ Golf</option>
        <option value="MMA">ü•ã MMA</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label for="leagueFilter">League</label>
      <select id="leagueFilter" class="filter-select">
        <option value="All">All Leagues</option>
        <option value="premier-league">Premier League</option>
        <option value="nba">NBA</option>
        <option value="ipl">IPL</option>
        <option value="nfl">NFL</option>
        <option value="mlb">MLB</option>
        <option value="nhl">NHL</option>
        <option value="rugby-championship">Rugby Championship</option>
        <option value="formula1">Formula 1</option>
        <option value="atp">ATP Tour</option>
        <option value="pga">PGA Tour</option>
        <option value="ufc">UFC</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label for="timeFilter">Time</label>
      <select id="timeFilter" class="filter-select">
        <option value="All">All Times</option>
        <option value="morning">Morning (6AM-12PM)</option>
        <option value="afternoon">Afternoon (12PM-6PM)</option>
        <option value="evening">Evening (6PM-12AM)</option>
      </select>
    </div>

    <div class="filter-group">
      <button class="btn btn-secondary" id="resetFiltersBtn">Clear Filters</button>
    </div>
  </div>

  <!-- Main Content -->
  <main class="fixtures-main">
    <!-- Today's Fixtures -->
    <section class="fixtures-section">
      <div class="section-header">
        <h2 class="section-title">Today's Fixtures</h2>
        <div class="fixtures-count" id="todayCount">Loading matches...</div>
      </div>
      
      <div class="fixtures-timeline" id="todayFixtures">
        <div class="empty-state">
          <div class="empty-state-icon">‚è≥</div>
          <div class="empty-state-text">Loading today's fixtures...</div>
        </div>
      </div>
    </section>

    <!-- Upcoming Fixtures by League -->
    <section class="fixtures-section">
      <div class="section-header">
        <h2 class="section-title">Upcoming by League</h2>
        <div class="view-toggle">
          <button class="btn btn-small active" id="listViewBtn">List View</button>
          <button class="btn btn-small ghost" id="calendarViewBtn">Calendar View</button>
        </div>
      </div>
      
      <div class="league-fixtures" id="leagueFixtures">
        <div class="empty-state">
          <div class="empty-state-icon">‚è≥</div>
          <div class="empty-state-text">Loading upcoming fixtures...</div>
        </div>
      </div>
    </section>

    <!-- Major Tournaments -->
    <section class="fixtures-section">
      <div class="section-header">
        <h2 class="section-title">Major Tournaments</h2>
        <div class="tournament-status">Ongoing & Upcoming</div>
      </div>
      
      <div class="tournaments-grid" id="tournamentsGrid">
        <div class="empty-state">
          <div class="empty-state-icon">‚è≥</div>
          <div class="empty-state-text">Loading tournaments...</div>
        </div>
      </div>
    </section>
  </main>
</div>

<!-- Footer -->
<footer role="contentinfo">
  <div class="footer-content">
    <div class="footer-section">
      <h5>AllSports</h5>
      <p>Your premier destination for sports news, live scores, and video highlights.</p>
    </div>
    <div class="footer-section">
      <h5>Sports</h5>
      <a href="games/football.html">Football</a>
      <a href="games/cricket.html">Cricket</a>
      <a href="games/basketball.html">Basketball</a>
      <a href="games/tennis.html">Tennis</a>
    </div>
    <div class="footer-section">
      <h5>Company</h5>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
      <a href="#privacy">Privacy</a>
      <a href="#terms">Terms</a>
    </div>
  </div>
  <div class="footer-bottom">
    ¬© 2024 AllSports ‚Äî Built with ‚ù§Ô∏è for sports fans worldwide
  </div>
</footer>

<!-- Match Modal -->
<div class="modal" id="matchModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title" id="matchModalTitle">Match Details</h3>
      <button class="modal-close" id="matchModalClose">&times;</button>
    </div>
    <div class="modal-body" id="matchModalContent">
      <!-- Match details will be dynamically inserted here -->
    </div>
  </div>
</div>

<!-- Tournament Modal -->
<div class="modal" id="tournamentModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title" id="tournamentModalTitle">Tournament Details</h3>
      <button class="modal-close" id="tournamentModalClose">&times;</button>
    </div>
    <div class="modal-body" id="tournamentModalContent">
      <!-- Tournament details will be dynamically inserted here -->
    </div>
  </div>
</div>

<!-- Tournament Schedule Modal -->
<div class="modal" id="tournamentScheduleModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title" id="tournamentScheduleModalTitle">Tournament Schedule</h3>
      <button class="modal-close" id="tournamentScheduleModalClose">&times;</button>
    </div>
    <div class="modal-body" id="tournamentScheduleModalContent">
      <!-- Tournament schedule will be dynamically inserted here -->
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div id="toast" class="toast"></div>

<script>
// Fixtures App with Database Integration
class FixturesApp {
  constructor() {
    this.state = {
      user: null,
      remindedMatches: new Set(),
      remindedTournaments: new Set(),
      currentDate: new Date(),
      currentFilters: {
        sport: 'All',
        league: 'All',
        time: 'All'
      },
      viewMode: 'list',
      loading: {
        today: true,
        upcoming: true,
        tournaments: true
      }
    };
    
    this.fixturesData = {
      today: [],
      upcoming: [],
      tournaments: []
    };
    
    // Initialize date display
    this.initDateDisplay();
    
    this.init();
  }

  async init() {
    console.log('Fixtures App Initializing...');
    await this.checkAuthStatus();
    await this.loadRemindedMatches();
    await this.loadRemindedTournaments();
    this.setupEventListeners();
    await this.loadFixturesData();
    this.renderFixtures();
    this.updateReminderButtons();
    this.updateTournamentButtons();
    this.setupModalListeners();
    this.setupSearch();
  }

  initDateDisplay() {
    const today = new Date();
    const dateDisplay = document.getElementById('currentDate');
    if (dateDisplay) {
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      dateDisplay.textContent = today.toLocaleDateString('en-US', options);
    }
  }

  async loadFixturesData() {
    try {
      console.log('üì• Loading fixtures data from server...');
      
      // Clear existing data
      this.fixturesData = {
        today: [],
        upcoming: [],
        tournaments: []
      };
      
      // Set loading states
      this.state.loading.today = true;
      this.state.loading.upcoming = true;
      this.state.loading.tournaments = true;
      
      // Load today's fixtures
      await this.loadTodayFixtures();
      
      // Load upcoming fixtures
      await this.loadUpcomingFixtures();
      
      // Load tournaments
      await this.loadTournaments();
      
      console.log('‚úÖ All fixtures data loaded:', {
        today: this.fixturesData.today.length,
        upcoming: this.fixturesData.upcoming.length,
        tournaments: this.fixturesData.tournaments.length
      });
      
      // Clear loading states
      this.state.loading.today = false;
      this.state.loading.upcoming = false;
      this.state.loading.tournaments = false;
      
      return true;
      
    } catch (error) {
      console.error('‚ùå Error loading fixtures data:', error);
      
      // Clear loading states
      this.state.loading.today = false;
      this.state.loading.upcoming = false;
      this.state.loading.tournaments = false;
      
      // Fallback to complete sample data
      this.loadCompleteSampleData();
      return false;
    }
  }

  async loadTodayFixtures() {
    try {
      console.log('üìÖ Loading today\'s fixtures...');
      
      const response = await fetch('/api/fixtures/today?limit=50');
      const data = await response.json();
      
      if (data.success) {
        this.fixturesData.today = data.fixtures.map(fixture => this.normalizeFixture(fixture));
        console.log(`‚úÖ Today's fixtures loaded: ${this.fixturesData.today.length} fixtures`);
        
        // Update count display
        this.updateTodayCount(this.fixturesData.today.length);
      } else {
        console.error('Failed to load today fixtures:', data.message);
        throw new Error(data.message || 'Failed to load today fixtures');
      }
    } catch (error) {
      console.error('Error loading today fixtures:', error);
      
      // Fallback: get all fixtures and filter for today
      try {
        const allResponse = await fetch('/api/fixtures?limit=200');
        const allData = await allResponse.json();
        
        if (allData.success) {
          const today = new Date();
          today.setHours(0, 0, 0, 0);
          const tomorrow = new Date(today);
          tomorrow.setDate(tomorrow.getDate() + 1);
          
          this.fixturesData.today = allData.fixtures
            .map(fixture => this.normalizeFixture(fixture))
            .filter(fixture => {
              if (!fixture.date) return false;
              const fixtureDate = new Date(fixture.date);
              fixtureDate.setHours(0, 0, 0, 0);
              return fixtureDate.getTime() === today.getTime();
            });
          
          console.log(`üìã Today fixtures fallback loaded: ${this.fixturesData.today.length} fixtures`);
          this.updateTodayCount(this.fixturesData.today.length);
        } else {
          throw new Error('Failed to load fixtures for fallback');
        }
      } catch (fallbackError) {
        console.error('Today fixtures fallback failed:', fallbackError);
        
        // Use sample data
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const tomorrow = new Date(today);
        tomorrow.setDate(tomorrow.getDate() + 1);
        
        const sampleFixtures = this.getSampleFixtures();
        this.fixturesData.today = sampleFixtures.filter(fixture => {
          const fixtureDate = new Date(fixture.date);
          fixtureDate.setHours(0, 0, 0, 0);
          return fixtureDate.getTime() === today.getTime();
        });
        
        console.log(`üìã Using sample data for today fixtures: ${this.fixturesData.today.length} fixtures`);
        this.updateTodayCount(this.fixturesData.today.length);
      }
    }
  }

  async loadUpcomingFixtures() {
    try {
      console.log('üìÖ Loading upcoming fixtures...');
      
      const response = await fetch('/api/fixtures/upcoming?limit=100');
      const data = await response.json();
      
      if (data.success) {
        this.fixturesData.upcoming = data.fixtures.map(fixture => this.normalizeFixture(fixture));
        console.log(`‚úÖ Upcoming fixtures loaded: ${this.fixturesData.upcoming.length} fixtures`);
      } else {
        console.error('Failed to load upcoming fixtures:', data.message);
        throw new Error(data.message || 'Failed to load upcoming fixtures');
      }
    } catch (error) {
      console.error('Error loading upcoming fixtures:', error);
      
      // Fallback: get all fixtures and filter for upcoming
      try {
        const allResponse = await fetch('/api/fixtures?limit=300');
        const allData = await allResponse.json();
        
        if (allData.success) {
          const now = new Date();
          
          this.fixturesData.upcoming = allData.fixtures
            .map(fixture => this.normalizeFixture(fixture))
            .filter(fixture => {
              if (!fixture.date) return false;
              const fixtureDate = new Date(fixture.date);
              return fixtureDate > now;
            })
            .sort((a, b) => new Date(a.date) - new Date(b.date));
          
          console.log(`üìã Upcoming fixtures fallback loaded: ${this.fixturesData.upcoming.length} fixtures`);
        } else {
          throw new Error('Failed to load fixtures for fallback');
        }
      } catch (fallbackError) {
        console.error('Upcoming fixtures fallback failed:', fallbackError);
        
        // Use sample data
        const now = new Date();
        const sampleFixtures = this.getSampleFixtures();
        this.fixturesData.upcoming = sampleFixtures
          .filter(fixture => {
            const fixtureDate = new Date(fixture.date);
            return fixtureDate > now;
          })
          .sort((a, b) => new Date(a.date) - new Date(b.date));
        
        console.log(`üìã Using sample data for upcoming fixtures: ${this.fixturesData.upcoming.length} fixtures`);
      }
    }
  }

  async loadTournaments() {
    try {
      console.log('üèÜ Loading tournaments...');
      
      const response = await fetch('/api/tournaments?limit=20');
      const data = await response.json();
      
      if (data.success) {
        this.fixturesData.tournaments = data.tournaments.map(tournament => this.normalizeTournament(tournament));
        console.log(`‚úÖ Tournaments loaded: ${this.fixturesData.tournaments.length} tournaments`);
      } else {
        console.error('Failed to load tournaments:', data.message);
        throw new Error(data.message || 'Failed to load tournaments');
      }
    } catch (error) {
      console.error('Error loading tournaments:', error);
      this.fixturesData.tournaments = this.getSampleTournaments();
      console.log(`üìã Using sample data for tournaments: ${this.fixturesData.tournaments.length} tournaments`);
    }
  }

  loadCompleteSampleData() {
    console.log('üìã Loading complete sample data as fallback...');
    
    const now = new Date();
    const today = new Date(now);
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    const dayAfter = new Date(tomorrow);
    dayAfter.setDate(dayAfter.getDate() + 1);
    const nextWeek = new Date(today);
    nextWeek.setDate(nextWeek.getDate() + 7);
    
    // Generate comprehensive sample data
    this.fixturesData.today = this.generateSampleFixturesForDate(today, 8);
    this.fixturesData.upcoming = [
      ...this.generateSampleFixturesForDate(tomorrow, 12),
      ...this.generateSampleFixturesForDate(dayAfter, 10),
      ...this.generateSampleFixturesForDate(nextWeek, 15)
    ];
    this.fixturesData.tournaments = this.getSampleTournaments();
    
    // Update counts
    this.updateTodayCount(this.fixturesData.today.length);
    
    console.log('‚úÖ Sample data loaded:', {
      today: this.fixturesData.today.length,
      upcoming: this.fixturesData.upcoming.length,
      tournaments: this.fixturesData.tournaments.length
    });
  }

  generateSampleFixturesForDate(date, count) {
    const fixtures = [];
    const sports = [
      { sport: 'Football', leagues: ['Premier League', 'La Liga', 'Champions League', 'Serie A', 'Bundesliga'] },
      { sport: 'Basketball', leagues: ['NBA', 'EuroLeague', 'WNBA'] },
      { sport: 'Cricket', leagues: ['IPL', 'Test Series', 'T20 World Cup'] },
      { sport: 'Tennis', leagues: ['ATP', 'WTA', 'Grand Slam'] },
      { sport: 'Baseball', leagues: ['MLB'] },
      { sport: 'Hockey', leagues: ['NHL'] }
    ];
    
    const teams = {
      'Football': [
        { home: 'Manchester United', away: 'Liverpool' },
        { home: 'Barcelona', away: 'Real Madrid' },
        { home: 'Bayern Munich', away: 'Borussia Dortmund' },
        { home: 'Paris SG', away: 'Marseille' },
        { home: 'AC Milan', away: 'Inter Milan' },
        { home: 'Chelsea', away: 'Arsenal' }
      ],
      'Basketball': [
        { home: 'LA Lakers', away: 'Boston Celtics' },
        { home: 'Golden State Warriors', away: 'Phoenix Suns' },
        { home: 'Miami Heat', away: 'Chicago Bulls' },
        { home: 'Toronto Raptors', away: 'Brooklyn Nets' }
      ],
      'Cricket': [
        { home: 'India', away: 'Australia' },
        { home: 'England', away: 'Pakistan' },
        { home: 'South Africa', away: 'New Zealand' },
        { home: 'West Indies', away: 'Sri Lanka' }
      ],
      'Tennis': [
        { home: 'Novak Djokovic', away: 'Carlos Alcaraz' },
        { home: 'Rafael Nadal', away: 'Roger Federer' },
        { home: 'Serena Williams', away: 'Naomi Osaka' }
      ],
      'Baseball': [
        { home: 'New York Yankees', away: 'Boston Red Sox' },
        { home: 'Los Angeles Dodgers', away: 'San Francisco Giants' }
      ],
      'Hockey': [
        { home: 'Toronto Maple Leafs', away: 'Montreal Canadiens' },
        { home: 'Chicago Blackhawks', away: 'Detroit Red Wings' }
      ]
    };
    
    for (let i = 0; i < count; i++) {
      const sportData = sports[Math.floor(Math.random() * sports.length)];
      const sportTeams = teams[sportData.sport] || teams['Football'];
      const teamMatch = sportTeams[Math.floor(Math.random() * sportTeams.length)];
      const league = sportData.leagues[Math.floor(Math.random() * sportData.leagues.length)];
      
      // Generate random time between 10:00 and 22:00
      const hour = Math.floor(Math.random() * 13) + 10;
      const minute = Math.random() > 0.5 ? '00' : '30';
      const time = `${hour.toString().padStart(2, '0')}:${minute}`;
      
      // Create fixture date with time
      const fixtureDate = new Date(date);
      fixtureDate.setHours(hour, minute === '30' ? 30 : 0, 0, 0);
      
      fixtures.push({
        fixtureId: `SAMPLE_${date.getTime()}_${i}`,
        sport: sportData.sport,
        league: league,
        time: time,
        homeTeam: { 
          name: teamMatch.home, 
          shortCode: teamMatch.home.substring(0, 3).toUpperCase(),
          logo: teamMatch.home.substring(0, 3).toUpperCase()
        },
        awayTeam: { 
          name: teamMatch.away, 
          shortCode: teamMatch.away.substring(0, 3).toUpperCase(),
          logo: teamMatch.away.substring(0, 3).toUpperCase()
        },
        date: fixtureDate,
        venue: `${teamMatch.home} Stadium`,
        status: 'Scheduled',
        round: 'Regular Season',
        competition: league,
        isFeatured: i < 3, // First 3 are featured
        isActive: true
      });
    }
    
    return fixtures;
  }

  getSampleFixtures() {
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    const dayAfter = new Date(tomorrow);
    dayAfter.setDate(dayAfter.getDate() + 1);
    
    return [
      {
        fixtureId: '101',
        sport: 'Football',
        league: 'Premier League',
        time: '20:00',
        homeTeam: { name: 'Manchester United', shortCode: 'MUN' },
        awayTeam: { name: 'Liverpool', shortCode: 'LIV' },
        venue: 'Old Trafford',
        date: today,
        status: 'Scheduled',
        round: 'Matchday 28',
        competition: 'Premier League',
        isActive: true
      },
      {
        fixtureId: '102',
        sport: 'Football',
        league: 'Premier League',
        time: '17:30',
        homeTeam: { name: 'Arsenal', shortCode: 'ARS' },
        awayTeam: { name: 'Chelsea', shortCode: 'CHE' },
        venue: 'Emirates Stadium',
        date: today,
        status: 'Scheduled',
        round: 'Matchday 28',
        competition: 'Premier League',
        isActive: true
      },
      {
        fixtureId: '103',
        sport: 'Basketball',
        league: 'NBA',
        time: '19:30',
        homeTeam: { name: 'LA Lakers', shortCode: 'LAL' },
        awayTeam: { name: 'Boston Celtics', shortCode: 'BOS' },
        venue: 'Staples Center',
        date: today,
        status: 'Scheduled',
        round: 'Regular Season',
        competition: 'NBA',
        isActive: true
      },
      {
        fixtureId: '201',
        sport: 'Football',
        league: 'Champions League',
        time: '20:00',
        homeTeam: { name: 'Real Madrid', shortCode: 'RMA' },
        awayTeam: { name: 'Bayern Munich', shortCode: 'BAY' },
        venue: 'Santiago Bernabeu',
        date: tomorrow,
        status: 'Scheduled',
        round: 'Quarterfinals',
        competition: 'UEFA Champions League',
        isActive: true
      },
      {
        fixtureId: '202',
        sport: 'Cricket',
        league: 'IPL',
        time: '19:30',
        homeTeam: { name: 'Mumbai Indians', shortCode: 'MI' },
        awayTeam: { name: 'Chennai Super Kings', shortCode: 'CSK' },
        venue: 'Wankhede Stadium',
        date: tomorrow,
        status: 'Scheduled',
        round: 'Match 35',
        competition: 'Indian Premier League',
        isActive: true
      },
      {
        fixtureId: '301',
        sport: 'Tennis',
        league: 'ATP',
        time: '14:00',
        homeTeam: { name: 'Novak Djokovic', shortCode: 'DJK' },
        awayTeam: { name: 'Carlos Alcaraz', shortCode: 'ALC' },
        venue: 'Centre Court',
        date: dayAfter,
        status: 'Scheduled',
        round: 'Semifinals',
        competition: 'Wimbledon',
        isActive: true
      },
      {
        fixtureId: '302',
        sport: 'Formula1',
        league: 'Formula 1',
        time: '15:00',
        homeTeam: { name: 'Max Verstappen', shortCode: 'VER' },
        awayTeam: { name: 'Lewis Hamilton', shortCode: 'HAM' },
        venue: 'Silverstone Circuit',
        date: dayAfter,
        status: 'Scheduled',
        round: 'British GP',
        competition: 'Formula 1 World Championship',
        isActive: true
      }
    ];
  }

  normalizeFixture(fixture) {
    // Handle different data structures from server vs sample data
    const homeTeamName = fixture.homeTeam?.name || fixture.teams?.home || 'Home Team';
    const awayTeamName = fixture.awayTeam?.name || fixture.teams?.away || 'Away Team';
    
    // Generate short codes if not present
    const homeTeamShortCode = fixture.homeTeam?.shortCode || 
                             fixture.homeTeam?.logo || 
                             homeTeamName.substring(0, 3).toUpperCase();
    
    const awayTeamShortCode = fixture.awayTeam?.shortCode || 
                             fixture.awayTeam?.logo || 
                             awayTeamName.substring(0, 3).toUpperCase();
    
    // Ensure date is a Date object
    let fixtureDate;
    if (fixture.date instanceof Date) {
      fixtureDate = fixture.date;
    } else if (fixture.date) {
      fixtureDate = new Date(fixture.date);
    } else {
      // Default to today if no date
      fixtureDate = new Date();
    }
    
    // Ensure time is in correct format
    let fixtureTime = fixture.time || '12:00';
    if (fixtureTime.length === 4) {
      // Convert "930" to "09:30"
      fixtureTime = fixtureTime.padStart(4, '0');
      fixtureTime = `${fixtureTime.substring(0, 2)}:${fixtureTime.substring(2)}`;
    }
    
    return {
      fixtureId: fixture.fixtureId || fixture._id || `FIX-${Math.floor(Math.random() * 10000)}`,
      sport: fixture.sport || 'Football',
      league: fixture.league || 'Unknown League',
      homeTeam: {
        name: homeTeamName,
        shortCode: homeTeamShortCode,
        logo: homeTeamShortCode
      },
      awayTeam: {
        name: awayTeamName,
        shortCode: awayTeamShortCode,
        logo: awayTeamShortCode
      },
      date: fixtureDate,
      time: fixtureTime,
      venue: fixture.venue || 'Unknown Venue',
      status: fixture.status || 'Scheduled',
      round: fixture.round || 'Regular Season',
      competition: fixture.competition || fixture.league || 'Unknown Competition',
      isFeatured: fixture.isFeatured || false,
      isActive: fixture.isActive !== undefined ? fixture.isActive : true
    };
  }

  normalizeTournament(tournament) {
    return {
      id: tournament.tournamentId || tournament._id || tournament.id,
      name: tournament.name || 'Unknown Tournament',
      sport: tournament.sport || 'General',
      status: tournament.status || 'upcoming',
      startDate: this.formatDate(tournament.startDate),
      endDate: this.formatDate(tournament.endDate),
      teams: tournament.teams || 0,
      location: tournament.location || 'Unknown Location',
      description: tournament.description || '',
      prizeMoney: tournament.prizeMoney || 'TBD'
    };
  }

  formatDate(date) {
    if (!date) return 'TBD';
    const dateObj = new Date(date);
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return dateObj.toLocaleDateString('en-US', options);
  }

  getSampleTournaments() {
    return [
      {
        id: 501,
        name: 'FIFA World Cup 2026',
        sport: 'Football',
        status: 'upcoming',
        startDate: 'June 8, 2026',
        endDate: 'July 3, 2026',
        teams: 48,
        location: 'USA, Canada & Mexico',
        description: 'The 23rd FIFA World Cup, featuring 48 teams for the first time.',
        prizeMoney: '$440 million'
      },
      {
        id: 502,
        name: 'ICC Cricket World Cup',
        sport: 'Cricket',
        status: 'ongoing',
        startDate: 'October 5, 2024',
        endDate: 'November 19, 2024',
        teams: 10,
        location: 'India',
        description: 'The 13th edition of the Cricket World Cup.',
        prizeMoney: '$10 million'
      },
      {
        id: 503,
        name: 'NBA Playoffs',
        sport: 'Basketball',
        status: 'upcoming',
        startDate: 'April 15, 2024',
        endDate: 'June 18, 2024',
        teams: 16,
        location: 'USA & Canada',
        description: 'The postseason tournament of the National Basketball Association.',
        prizeMoney: '$15 million'
      },
      {
        id: 504,
        name: 'Wimbledon Championships',
        sport: 'Tennis',
        status: 'upcoming',
        startDate: 'July 1, 2024',
        endDate: 'July 14, 2024',
        teams: 128,
        location: 'London, England',
        description: 'The oldest tennis tournament in the world.',
        prizeMoney: '¬£44.7 million'
      },
      {
        id: 505,
        name: 'UEFA Champions League',
        sport: 'Football',
        status: 'ongoing',
        startDate: 'September 19, 2023',
        endDate: 'June 1, 2024',
        teams: 32,
        location: 'Europe',
        description: 'Premier European club football competition.',
        prizeMoney: '‚Ç¨2 billion'
      },
      {
        id: 506,
        name: 'Summer Olympics Paris 2024',
        sport: 'Olympics',
        status: 'upcoming',
        startDate: 'July 26, 2024',
        endDate: 'August 11, 2024',
        teams: 206,
        location: 'Paris, France',
        description: 'The 33rd Summer Olympic Games.',
        prizeMoney: 'N/A (Medals)'
      }
    ];
  }

  // Update the search setup to use sample data
  setupSearch() {
    // Desktop search
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');
    
    if (searchInput) {
      searchInput.addEventListener('input', (e) => {
        const query = e.target.value.trim();
        if (query.length < 2) {
          searchResults.classList.remove('active');
          return;
        }
        this.handleSearch(query, searchResults);
      });
      
      document.addEventListener('click', (e) => {
        if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
          searchResults.classList.remove('active');
        }
      });
    }
    
    // Mobile search
    const mobileSearchInput = document.getElementById('mobileSearchInput');
    const mobileSearchResults = document.getElementById('mobileSearchResults');
    
    if (mobileSearchInput) {
      mobileSearchInput.addEventListener('input', (e) => {
        const query = e.target.value.trim();
        if (query.length < 2) {
          mobileSearchResults.classList.remove('active');
          return;
        }
        this.handleSearch(query, mobileSearchResults);
      });
    }
  }

  handleSearch(query, resultsContainer) {
    // Search through all fixtures data
    const allFixtures = [...this.fixturesData.today, ...this.fixturesData.upcoming];
    const results = allFixtures.filter(fixture => {
      const searchText = `${fixture.homeTeam.name} ${fixture.awayTeam.name} ${fixture.league} ${fixture.sport} ${fixture.venue}`.toLowerCase();
      return searchText.includes(query.toLowerCase());
    });
    
    this.displaySearchResults(results, resultsContainer, query);
  }

  displaySearchResults(fixtures, container, query) {
    if (fixtures.length === 0) {
      container.innerHTML = `
        <div class="no-results">
          <p>No results found for "<strong>${query}</strong>"</p>
          <p style="font-size: 12px; margin-top: 8px;">Try searching for matches, teams, or leagues</p>
        </div>
      `;
    } else {
      let html = '';
      
      // Add fixtures to results
      fixtures.forEach(fixture => {
        html += `
          <div class="search-result-item" data-id="${fixture.fixtureId}" data-type="matches">
            <div class="search-result-icon">${this.getSportIcon(fixture.sport)}</div>
            <div class="search-result-content">
              <div class="search-result-title">${fixture.homeTeam.name} vs ${fixture.awayTeam.name}</div>
              <div class="search-result-subtitle">${fixture.league} ‚Ä¢ ${fixture.venue}</div>
            </div>
            <div class="search-result-type">Match</div>
          </div>
        `;
      });
      
      container.innerHTML = html;
      
      // Add click handlers
      container.querySelectorAll('.search-result-item').forEach(item => {
        item.addEventListener('click', () => {
          this.handleSearchResultClick(item.dataset.id, item.dataset.type);
          container.classList.remove('active');
        });
      });
    }
    
    container.classList.add('active');
  }

  handleSearchResultClick(id, type) {
    const searchInput = document.getElementById('searchInput');
    const mobileSearchInput = document.getElementById('mobileSearchInput');
    
    // Clear search inputs
    if (searchInput) searchInput.value = '';
    if (mobileSearchInput) mobileSearchInput.value = '';
    
    // Handle based on type
    switch (type) {
      case 'matches':
        this.showMatchDetails(id);
        break;
    }
  }

  setupModalListeners() {
    // Match modal
    const matchModal = document.getElementById('matchModal');
    const closeMatchModal = document.getElementById('matchModalClose');
    
    closeMatchModal.addEventListener('click', () => {
      matchModal.classList.remove('active');
    });
    
    matchModal.addEventListener('click', (e) => {
      if (e.target === matchModal) {
        matchModal.classList.remove('active');
      }
    });
    
    // Tournament modal
    const tournamentModal = document.getElementById('tournamentModal');
    const closeTournamentModal = document.getElementById('tournamentModalClose');
    
    closeTournamentModal.addEventListener('click', () => {
      tournamentModal.classList.remove('active');
    });
    
    tournamentModal.addEventListener('click', (e) => {
      if (e.target === tournamentModal) {
        tournamentModal.classList.remove('active');
      }
    });
    
    // Tournament Schedule modal
    const tournamentScheduleModal = document.getElementById('tournamentScheduleModal');
    const closeTournamentScheduleModal = document.getElementById('tournamentScheduleModalClose');
    
    closeTournamentScheduleModal.addEventListener('click', () => {
      tournamentScheduleModal.classList.remove('active');
    });
    
    tournamentScheduleModal.addEventListener('click', (e) => {
      if (e.target === tournamentScheduleModal) {
        tournamentScheduleModal.classList.remove('active');
      }
    });
  }

  async checkAuthStatus() {
    try {
      const response = await fetch('/api/user');
      if (response.ok) {
        const data = await response.json();
        if (data.success && data.user) {
          this.state.user = data.user;
          this.updateAuthUI();
          console.log('User authenticated:', this.state.user.username);
        } else {
          console.log('User not authenticated');
          this.state.user = null;
          this.updateAuthUI();
        }
      } else {
        // Fallback to localStorage for demo purposes
        const userData = localStorage.getItem('allsports_user');
        if (userData) {
          this.state.user = JSON.parse(userData);
          this.updateAuthUI();
          console.log('User authenticated (localStorage):', this.state.user.username);
        } else {
          console.log('User not authenticated');
          this.state.user = null;
          this.updateAuthUI();
        }
      }
    } catch (error) {
      console.error('Error checking auth status:', error);
      // Fallback to localStorage for demo purposes
      const userData = localStorage.getItem('allsports_user');
      if (userData) {
        this.state.user = JSON.parse(userData);
        this.updateAuthUI();
        console.log('User authenticated (localStorage fallback):', this.state.user.username);
      } else {
        this.state.user = null;
        this.updateAuthUI();
      }
    }
  }

  async loadRemindedMatches() {
    try {
      // Try API first, then fallback to localStorage
      const response = await fetch('/api/user/reminded-matches');
      if (response.ok) {
        const data = await response.json();
        if (data.success) {
          const matchIds = data.remindedMatches.map(match => match.matchId);
          this.state.remindedMatches = new Set(matchIds);
          console.log('Loaded reminded matches from API:', matchIds);
        }
      } else {
        // Fallback to localStorage
        const remindedMatches = localStorage.getItem('allsports_reminded_matches');
        if (remindedMatches) {
          const matchIds = JSON.parse(remindedMatches);
          this.state.remindedMatches = new Set(matchIds);
          console.log('Loaded reminded matches from localStorage:', matchIds);
        } else {
          console.log('No reminded matches found');
        }
      }
    } catch (error) {
      console.error('Error loading reminded matches:', error);
      // Fallback to localStorage
      const remindedMatches = localStorage.getItem('allsports_reminded_matches');
      if (remindedMatches) {
        const matchIds = JSON.parse(remindedMatches);
        this.state.remindedMatches = new Set(matchIds);
      }
    }
  }

  async loadRemindedTournaments() {
    try {
      // Try API first, then fallback to localStorage
      const response = await fetch('/api/user/reminded-tournaments');
      if (response.ok) {
        const data = await response.json();
        if (data.success) {
          const tournamentIds = data.remindedTournaments.map(tournament => tournament.tournamentId);
          this.state.remindedTournaments = new Set(tournamentIds);
          console.log('Loaded reminded tournaments from API:', tournamentIds);
        }
      } else {
        // Fallback to localStorage
        const remindedTournaments = localStorage.getItem('allsports_reminded_tournaments');
        if (remindedTournaments) {
          const tournamentIds = JSON.parse(remindedTournaments);
          this.state.remindedTournaments = new Set(tournamentIds);
          console.log('Loaded reminded tournaments from localStorage:', tournamentIds);
        } else {
          console.log('No reminded tournaments found');
        }
      }
    } catch (error) {
      console.error('Error loading reminded tournaments:', error);
      // Fallback to localStorage
      const remindedTournaments = localStorage.getItem('allsports_reminded_tournaments');
      if (remindedTournaments) {
        const tournamentIds = JSON.parse(remindedTournaments);
        this.state.remindedTournaments = new Set(tournamentIds);
      }
    }
  }

  updateAuthUI() {
    const loginText = document.getElementById('loginText');
    const mobileLoginText = document.getElementById('mobileLoginText');
    
    if (this.state.user) {
      // User is logged in - show username
      if (loginText) loginText.textContent = this.state.user.username;
      if (mobileLoginText) mobileLoginText.textContent = this.state.user.username;
      
      console.log('Updated UI for logged in user:', this.state.user.username);
    } else {
      // User is not logged in - show "Login"
      if (loginText) loginText.textContent = 'Login';
      if (mobileLoginText) mobileLoginText.textContent = 'Login';
      
      console.log('Updated UI for logged out user');
    }
  }

  updateReminderButtons() {
    const reminderButtons = document.querySelectorAll('.reminder-btn');
    
    reminderButtons.forEach(button => {
      const matchId = button.dataset.matchId;
      const isReminderSet = this.state.remindedMatches.has(matchId);
      
      if (isReminderSet) {
        button.classList.remove('ghost');
        button.classList.add('reminder-set');
        button.querySelector('.btn-text').textContent = 'Reminder Set';
      } else {
        button.classList.add('ghost');
        button.classList.remove('reminder-set');
        button.querySelector('.btn-text').textContent = 'Remind Me';
      }
    });
  }

  updateTournamentButtons() {
    const tournamentReminderButtons = document.querySelectorAll('.tournament-actions .reminder-btn');
    
    tournamentReminderButtons.forEach(button => {
      const tournamentId = button.dataset.tournamentId;
      const isReminderSet = this.state.remindedTournaments.has(tournamentId);
      
      if (isReminderSet) {
        button.classList.remove('ghost');
        button.classList.add('reminder-set');
        button.querySelector('.btn-text').textContent = 'Following';
      } else {
        button.classList.add('ghost');
        button.classList.remove('reminder-set');
        button.querySelector('.btn-text').textContent = 'Follow Tournament';
      }
    });
  }

  async toggleReminder(matchId, matchData) {
    // Check if user is logged in
    if (!this.state.user) {
        this.showToast('Please log in to set reminders');
        setTimeout(() => {
            window.location.href = 'login.html';
        }, 1500);
        return;
    }

    // Determine the correct action based on current reminder state
    const isCurrentlyReminded = this.state.remindedMatches.has(matchId);
    const action = isCurrentlyReminded ? 'remove' : 'add';

    console.log('Toggle reminder:', {
        matchId,
        currentState: isCurrentlyReminded ? 'reminder set' : 'no reminder',
        action
    });

    try {
        const response = await fetch('/api/user/set-reminder', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            credentials: 'include',
            body: JSON.stringify({
                matchId: matchId,
                homeTeam: matchData.homeTeam?.name || matchData.homeTeam,
                awayTeam: matchData.awayTeam?.name || matchData.awayTeam,
                sport: matchData.sport,
                league: matchData.league,
                venue: matchData.venue,
                time: matchData.date,
                action
            })
        });

        // Check if response is OK
        if (!response.ok) {
            const errorText = await response.text();
            throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);
        }

        const result = await response.json();
        console.log('Server response:', result);

        if (result.success) {
            // Update local state based on the action that was actually performed
            if (result.action === 'reminder_set') {
                this.state.remindedMatches.add(matchId);
                this.showToast('Reminder set successfully! You will be notified before the match starts.');
            } else if (result.action === 'reminder_removed') {
                this.state.remindedMatches.delete(matchId);
                this.showToast('Reminder removed successfully');
            }

            // Update UI
            this.updateReminderButtons();
            
            console.log(`Match ${matchId} reminder ${result.action} successfully`);
        } else {
            this.showToast(result.message || 'Error updating reminder status');
        }
    } catch (error) {
        console.error('Error toggling reminder:', error);
        // Fallback to localStorage for demo
        if (action === 'add') {
            this.state.remindedMatches.add(matchId);
            localStorage.setItem('allsports_reminded_matches', JSON.stringify([...this.state.remindedMatches]));
            this.showToast('Reminder set successfully! You will be notified before the match starts.');
        } else {
            this.state.remindedMatches.delete(matchId);
            localStorage.setItem('allsports_reminded_matches', JSON.stringify([...this.state.remindedMatches]));
            this.showToast('Reminder removed successfully');
        }
        this.updateReminderButtons();
    }
  }

  async toggleTournamentReminder(tournamentId, tournamentData) {
    // Check if user is logged in
    if (!this.state.user) {
        this.showToast('Please log in to follow tournaments');
        setTimeout(() => {
            window.location.href = 'login.html';
        }, 1500);
        return;
    }

    // Determine the correct action based on current reminder state
    const isCurrentlyReminded = this.state.remindedTournaments.has(tournamentId);
    const action = isCurrentlyReminded ? 'remove' : 'add';

    console.log('Toggle tournament reminder:', {
        tournamentId,
        currentState: isCurrentlyReminded ? 'following' : 'not following',
        action
    });

    try {
        const response = await fetch('/api/user/set-tournament-reminder', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            credentials: 'include',
            body: JSON.stringify({
                tournamentId: tournamentId,
                tournamentName: tournamentData.name,
                sport: tournamentData.sport,
                startDate: tournamentData.startDate,
                endDate: tournamentData.endDate,
                action
            })
        });

        // Check if response is OK
        if (!response.ok) {
            const errorText = await response.text();
            throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);
        }

        const result = await response.json();
        console.log('Server response:', result);

        if (result.success) {
            // Update local state based on the action that was actually performed
            if (result.action === 'reminder_set') {
                this.state.remindedTournaments.add(tournamentId);
                this.showToast(`You're now following ${tournamentData.name}!`);
            } else if (result.action === 'reminder_removed') {
                this.state.remindedTournaments.delete(tournamentId);
                this.showToast(`You've unfollowed ${tournamentData.name}`);
            }

            // Update UI
            this.updateTournamentButtons();
            
            console.log(`Tournament ${tournamentId} reminder ${result.action} successfully`);
        } else {
            this.showToast(result.message || 'Error updating tournament reminder status');
        }
    } catch (error) {
        console.error('Error toggling tournament reminder:', error);
        // Fallback to localStorage for demo
        if (action === 'add') {
            this.state.remindedTournaments.add(tournamentId);
            localStorage.setItem('allsports_reminded_tournaments', JSON.stringify([...this.state.remindedTournaments]));
            this.showToast(`You're now following ${tournamentData.name}!`);
        } else {
            this.state.remindedTournaments.delete(tournamentId);
            localStorage.setItem('allsports_reminded_tournaments', JSON.stringify([...this.state.remindedTournaments]));
            this.showToast(`You've unfollowed ${tournamentData.name}`);
        }
        this.updateTournamentButtons();
    }
  }
  
  setupEventListeners() {
    // Date navigation
    const prevDateBtn = document.getElementById('prevDateBtn');
    const nextDateBtn = document.getElementById('nextDateBtn');
    const quickDates = document.querySelectorAll('.quick-date');

    if (prevDateBtn) {
      prevDateBtn.addEventListener('click', () => {
        this.navigateDate(-1);
      });
    }

    if (nextDateBtn) {
      nextDateBtn.addEventListener('click', () => {
        this.navigateDate(1);
      });
    }

    quickDates.forEach(button => {
      button.addEventListener('click', (e) => {
        const days = parseInt(e.target.dataset.days);
        this.setQuickDate(days);
        
        // Update active state
        quickDates.forEach(btn => btn.classList.remove('active'));
        e.target.classList.add('active');
      });
    });

    // Filter functionality
    const sportFilter = document.getElementById('sportFilter');
    const leagueFilter = document.getElementById('leagueFilter');
    const timeFilter = document.getElementById('timeFilter');
    const resetFiltersBtn = document.getElementById('resetFiltersBtn');

    if (sportFilter) {
      sportFilter.addEventListener('change', (e) => {
        this.state.currentFilters.sport = e.target.value;
        this.filterFixtures();
      });
    }

    if (leagueFilter) {
      leagueFilter.addEventListener('change', (e) => {
        this.state.currentFilters.league = e.target.value;
        this.filterFixtures();
      });
    }

    if (timeFilter) {
      timeFilter.addEventListener('change', (e) => {
        this.state.currentFilters.time = e.target.value;
        this.filterFixtures();
      });
    }

    if (resetFiltersBtn) {
      resetFiltersBtn.addEventListener('click', () => {
        this.resetFilters();
      });
    }

    // View toggle
    const listViewBtn = document.getElementById('listViewBtn');
    const calendarViewBtn = document.getElementById('calendarViewBtn');

    if (listViewBtn) {
      listViewBtn.addEventListener('click', () => {
        this.setViewMode('list');
        listViewBtn.classList.remove('ghost');
        listViewBtn.classList.add('active');
        calendarViewBtn.classList.remove('active');
        calendarViewBtn.classList.add('ghost');
      });
    }

    if (calendarViewBtn) {
      calendarViewBtn.addEventListener('click', () => {
        this.setViewMode('calendar');
        calendarViewBtn.classList.remove('ghost');
        calendarViewBtn.classList.add('active');
        listViewBtn.classList.remove('active');
        listViewBtn.classList.add('ghost');
      });
    }

    // Login/Logout functionality
    const loginBtn = document.getElementById('loginBtn');
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');

    if (loginBtn) {
      loginBtn.addEventListener('click', () => {
        if (!this.state.user) {
          window.location.href = 'login.html';
        }
      });
    }

    if (mobileLoginBtn) {
      mobileLoginBtn.addEventListener('click', () => {
        if (!this.state.user) {
          window.location.href = 'login.html';
        }
      });
    }

    if (logoutBtn) {
      logoutBtn.addEventListener('click', (e) => {
        e.preventDefault();
        this.handleLogout();
      });
    }

    if (mobileLogoutBtn) {
      mobileLogoutBtn.addEventListener('click', (e) => {
        e.preventDefault();
        this.handleLogout();
      });
    }

    // Reminder buttons (delegated event handling)
    document.addEventListener('click', (e) => {
      // Match reminder buttons
      if (e.target.closest('.match-actions .reminder-btn')) {
        const button = e.target.closest('.reminder-btn');
        const matchId = button.dataset.matchId;
        const matchCard = button.closest('.match-card');
        const matchData = this.getMatchData(matchCard);
        
        this.toggleReminder(matchId, matchData);
        e.stopPropagation(); // Prevent triggering match card click
      }
      
      // Tournament reminder buttons
      if (e.target.closest('.tournament-actions .reminder-btn')) {
        const button = e.target.closest('.reminder-btn');
        const tournamentId = button.dataset.tournamentId;
        const tournamentCard = button.closest('.tournament-card');
        const tournamentData = this.getTournamentData(tournamentCard);
        
        this.toggleTournamentReminder(tournamentId, tournamentData);
        e.stopPropagation(); // Prevent triggering tournament card click
      }
      
      // Preview buttons on match cards
      if (e.target.closest('.preview-btn')) {
        const button = e.target.closest('.preview-btn');
        const matchId = button.dataset.matchId;
        this.showMatchDetails(matchId);
        e.stopPropagation(); // Prevent triggering match card click
      }
      
      // Schedule buttons on tournament cards
      if (e.target.closest('.tournament-actions .btn.ghost')) {
        const button = e.target.closest('.btn.ghost');
        const tournamentId = button.dataset.tournamentId;
        const tournamentCard = button.closest('.tournament-card');
        const tournamentData = this.getTournamentData(tournamentCard);
        
        this.showTournamentSchedule(tournamentId, tournamentData);
        e.stopPropagation(); // Prevent triggering tournament card click
      }
      
      // Match card click for details
      if (e.target.closest('.match-card') && !e.target.closest('.btn')) {
        const matchCard = e.target.closest('.match-card');
        const matchId = matchCard.dataset.matchId;
        this.showMatchDetails(matchId);
      }
      
      // Tournament card click for details
      if (e.target.closest('.tournament-card') && !e.target.closest('.btn')) {
        const tournamentCard = e.target.closest('.tournament-card');
        const tournamentId = tournamentCard.dataset.tournamentId;
        this.showTournamentDetails(tournamentId);
      }
    });
  }

  async handleLogout() {
    try {
      const response = await fetch('/api/logout', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        }
      });

      const data = await response.json();
      
      if (data.success) {
        this.state.user = null;
        this.state.followedPlayers = new Set();
        this.updateAuthUI();
        this.updateReminderButtons();
        this.updateTournamentButtons();
        this.showToast('Successfully logged out');
        
        setTimeout(() => {
          window.location.reload();
        }, 1000);
      } else {
        this.showToast('Error during logout');
      }
    } catch (error) {
      console.error('Error during logout:', error);
      this.showToast('Error during logout');
    }
  }

  navigateDate(direction) {
    const newDate = new Date(this.state.currentDate);
    newDate.setDate(newDate.getDate() + direction);
    this.state.currentDate = newDate;
    this.updateDateDisplay();
    this.renderFixtures();
  }

  setQuickDate(days) {
    const newDate = new Date();
    newDate.setDate(newDate.getDate() + days);
    this.state.currentDate = newDate;
    this.updateDateDisplay();
    this.renderFixtures();
  }

  setViewMode(mode) {
    this.state.viewMode = mode;
    // In a real app, this would trigger a re-render of the fixtures
    this.showToast(`Switched to ${mode} view`);
  }

  updateDateDisplay() {
    const dateDisplay = document.getElementById('currentDateRange');
    if (dateDisplay) {
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      dateDisplay.textContent = this.state.currentDate.toLocaleDateString('en-US', options);
    }
  }

  renderFixtures() {
    this.renderTodayFixtures();
    this.renderLeagueFixtures();
    this.renderTournaments();
  }

  renderTodayFixtures() {
    const todayFixturesContainer = document.getElementById('todayFixtures');
    if (!todayFixturesContainer) return;

    // Group fixtures by time
    const timeGroups = {
      morning: [],
      afternoon: [],
      evening: []
    };

    this.fixturesData.today.forEach(fixture => {
      const time = fixture.time;
      const hour = parseInt(time.split(':')[0]);
      
      if (hour >= 6 && hour < 12) {
        timeGroups.morning.push(fixture);
      } else if (hour >= 12 && hour < 18) {
        timeGroups.afternoon.push(fixture);
      } else {
        timeGroups.evening.push(fixture);
      }
    });

    let html = '';

    // Morning fixtures
    if (timeGroups.morning.length > 0) {
      html += this.renderTimeGroup('Morning', 'üåÖ', timeGroups.morning);
    }

    // Afternoon fixtures
    if (timeGroups.afternoon.length > 0) {
      html += this.renderTimeGroup('Afternoon', '‚òÄÔ∏è', timeGroups.afternoon);
    }

    // Evening fixtures
    if (timeGroups.evening.length > 0) {
      html += this.renderTimeGroup('Evening', 'üåô', timeGroups.evening);
    }

    // If no fixtures
    if (html === '') {
      html = `
        <div class="empty-state">
          <div class="empty-state-icon">üìÖ</div>
          <div class="empty-state-text">No fixtures scheduled for today</div>
          <div class="empty-state-subtext">Check back later for updates</div>
        </div>
      `;
    }

    todayFixturesContainer.innerHTML = html;
    
    // Update count
    this.updateTodayCount(this.fixturesData.today.length);
  }

  updateTodayCount(count) {
    const todayCount = document.getElementById('todayCount');
    if (todayCount) {
      if (count === 0) {
        todayCount.textContent = 'No matches today';
      } else {
        todayCount.textContent = `${count} ${count === 1 ? 'match' : 'matches'} today`;
      }
    }
  }

  renderTimeGroup(label, icon, fixtures) {
    let html = `
      <div class="time-group">
        <div class="time-header">
          <div class="time-label">
            <div class="time-icon">${icon}</div>
            <span>${label}</span>
          </div>
          <div class="match-count">${fixtures.length} matches</div>
        </div>
        <div class="time-matches">
    `;

    fixtures.forEach(fixture => {
      html += this.renderMatchCard(fixture);
    });

    html += `
        </div>
      </div>
    `;

    return html;
  }

  renderLeagueFixtures() {
    const leagueFixturesContainer = document.getElementById('leagueFixtures');
    if (!leagueFixturesContainer) return;

    // Group fixtures by league
    const leagueGroups = {};
    
    this.fixturesData.upcoming.forEach(fixture => {
      if (!leagueGroups[fixture.league]) {
        leagueGroups[fixture.league] = [];
      }
      leagueGroups[fixture.league].push(fixture);
    });

    let html = '';

    for (const [league, fixtures] of Object.entries(leagueGroups)) {
      html += `
        <div class="league-group">
          <div class="league-header">
            <div class="league-info">
              <div class="league-logo">${league.substring(0, 3)}</div>
              <div class="league-name">${league}</div>
            </div>
            <div class="match-count">${fixtures.length} upcoming</div>
          </div>
          <div class="league-matches">
      `;

      fixtures.forEach(fixture => {
        html += this.renderMatchCard(fixture);
      });

      html += `
          </div>
        </div>
      `;
    }

    leagueFixturesContainer.innerHTML = html;
  }

  renderTournaments() {
    const tournamentsContainer = document.getElementById('tournamentsGrid');
    if (!tournamentsContainer) return;

    let html = '';

    this.fixturesData.tournaments.forEach(tournament => {
      const statusClass = tournament.status === 'ongoing' ? 'ongoing' : 'upcoming';
      const statusText = tournament.status === 'ongoing' ? 'Ongoing' : 'Upcoming';
      
      html += `
        <div class="tournament-card" data-tournament-id="${tournament.id}">
          <div class="tournament-header">
            <div class="tournament-sport">
              <span class="sport-icon">${this.getSportIcon(tournament.sport)}</span>
              <span>${tournament.sport}</span>
            </div>
            <div class="tournament-status-badge ${statusClass}">${statusText}</div>
          </div>
          <div class="tournament-name">${tournament.name}</div>
          <div class="tournament-dates">
            <i class="fas fa-calendar"></i>
            ${tournament.startDate} - ${tournament.endDate}
          </div>
          <div class="tournament-teams">
            <div class="team-avatars">
              <div class="team-avatar">T1</div>
              <div class="team-avatar">T2</div>
              <div class="team-avatar">T3</div>
              <div class="team-avatar">+${tournament.teams - 3}</div>
            </div>
            <div class="teams-count">${tournament.teams} teams</div>
          </div>
          <div class="tournament-details">
            <div class="match-details">
              <div>
                <i class="fas fa-map-marker-alt"></i>
                ${tournament.location}
              </div>
            </div>
          </div>
          <div class="tournament-actions">
            <button class="btn btn-small reminder-btn" data-tournament-id="${tournament.id}">
              <span class="btn-text">Follow Tournament</span>
              <span class="hover-text">Unfollow</span>
            </button>
            <button class="btn btn-small ghost" data-tournament-id="${tournament.id}">Schedule</button>
          </div>
        </div>
      `;
    });

    tournamentsContainer.innerHTML = html;
  }

  renderMatchCard(fixture) {
    const isReminderSet = this.state.remindedMatches.has(fixture.fixtureId);
    const reminderClass = isReminderSet ? 'reminder-set' : '';
    const reminderText = isReminderSet ? 'Reminder Set' : 'Remind Me';
    
    return `
      <div class="match-card upcoming" data-sport="${fixture.sport}" data-match-id="${fixture.fixtureId}">
        <div class="match-header">
          <div class="match-sport">
            <span class="sport-icon">${this.getSportIcon(fixture.sport)}</span>
            <span>${fixture.sport}</span>
          </div>
          <div class="match-status">
            <span>${fixture.time}</span>
          </div>
        </div>
        <div class="match-competition">
          ${fixture.league} ‚Ä¢ ${fixture.venue}
        </div>
        <div class="match-teams">
          <div class="team home-team">
            <div class="team-info">
              <div class="team-logo">${fixture.homeTeam.shortCode || fixture.homeTeam.name.substring(0, 3)}</div>
              <div class="team-name">${fixture.homeTeam.name}</div>
            </div>
            <div class="team-score">-</div>
          </div>
          <div class="team away-team">
            <div class="team-info">
              <div class="team-logo">${fixture.awayTeam.shortCode || fixture.awayTeam.name.substring(0, 3)}</div>
              <div class="team-name">${fixture.awayTeam.name}</div>
            </div>
            <div class="team-score">-</div>
          </div>
        </div>
        <div class="match-details">
          <div class="match-venue">
            <i class="fas fa-map-marker-alt"></i>
            ${fixture.venue}
          </div>
          <div class="match-time">
            <i class="fas fa-clock"></i>
            ${this.formatMatchDate(fixture.date)}
          </div>
        </div>
        <div class="match-actions">
          <button class="btn btn-small reminder-btn ${reminderClass}" data-match-id="${fixture.fixtureId}">
            <span class="btn-text">${reminderText}</span>
            <span class="hover-text">Off Reminder</span>
          </button>
          <button class="btn btn-small ghost preview-btn" data-match-id="${fixture.fixtureId}">Preview</button>
        </div>
      </div>
    `;
  }

  getSportIcon(sport) {
    const icons = {
      'Football': '‚öΩ',
      'Cricket': 'üèè',
      'Basketball': 'üèÄ',
      'Tennis': 'üéæ',
      'Baseball': '‚öæ',
      'Hockey': 'üèí',
      'Rugby': 'üèâ',
      'Boxing': 'ü•ä',
      'Formula1': 'üèéÔ∏è',
      'Golf': '‚õ≥',
      'MMA': 'ü•ã',
      'Olympics': 'üèÖ'
    };
    
    return icons[sport] || 'üèÜ';
  }

  formatMatchDate(date) {
    // Ensure date is a Date object - handle both Date objects and date strings
    const dateObj = date instanceof Date ? date : new Date(date);
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    
    // Reset time part for date comparison
    const compareDate = new Date(dateObj);
    compareDate.setHours(0, 0, 0, 0);
    today.setHours(0, 0, 0, 0);
    tomorrow.setHours(0, 0, 0, 0);
    
    if (compareDate.getTime() === today.getTime()) {
      return 'Today';
    } else if (compareDate.getTime() === tomorrow.getTime()) {
      return 'Tomorrow';
    } else {
      return dateObj.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
    }
  }

  getMatchData(matchCard) {
    const sport = matchCard.dataset.sport;
    const teams = matchCard.querySelectorAll('.team-name');
    const competition = matchCard.querySelector('.match-competition').textContent;
    const venueElement = matchCard.querySelector('.match-venue');
    const timeElement = matchCard.querySelector('.match-time');
    
    // Extract venue from the venue element
    let venue = 'Unknown Venue';
    if (venueElement) {
      venue = venueElement.textContent.replace('üìç', '').trim();
    }
    
    // Extract time from the time element
    let time = new Date();
    if (timeElement) {
      // This is a simplified time extraction - you might want to enhance this
      const timeText = timeElement.textContent;
      if (timeText.includes('Today')) {
        time = new Date();
      } else if (timeText.includes('Tomorrow')) {
        time = new Date(Date.now() + 24 * 60 * 60 * 1000);
      }
    }
    
    return {
      sport: sport,
      homeTeam: teams[0].textContent,
      awayTeam: teams[1].textContent,
      league: competition.split('‚Ä¢')[0]?.trim() || 'Unknown League',
      venue: venue,
      date: time
    };
  }

  getTournamentData(tournamentCard) {
    const tournamentId = tournamentCard.dataset.tournamentId;
    const name = tournamentCard.querySelector('.tournament-name').textContent;
    const sport = tournamentCard.querySelector('.tournament-sport span:nth-child(2)').textContent;
    const dates = tournamentCard.querySelector('.tournament-dates').textContent;
    const location = tournamentCard.querySelector('.match-details div').textContent.replace('üìç', '').trim();
    
    // Extract dates
    const [startDate, endDate] = dates.split(' - ');
    
    return {
      id: tournamentId,
      name: name,
      sport: sport,
      startDate: startDate,
      endDate: endDate,
      location: location
    };
  }

  filterFixtures() {
    const matchCards = document.querySelectorAll('.match-card');
    const tournamentCards = document.querySelectorAll('.tournament-card');
    
    let visibleCount = 0;
    
    matchCards.forEach(card => {
      const sport = card.dataset.sport;
      const league = card.querySelector('.match-competition')?.textContent?.split('‚Ä¢')[0]?.trim() || '';
      const time = card.querySelector('.match-status')?.textContent || '';
      const hour = parseInt(time.split(':')[0]) || 0;
      
      let show = true;
      
      // Sport filter
      if (this.state.currentFilters.sport !== 'All' && this.state.currentFilters.sport !== sport) {
        show = false;
      }
      
      // League filter
      if (this.state.currentFilters.league !== 'All') {
        const leagueLower = this.state.currentFilters.league.toLowerCase();
        if (!league.toLowerCase().includes(leagueLower)) {
          show = false;
        }
      }
      
      // Time filter
      if (this.state.currentFilters.time !== 'All') {
        if (this.state.currentFilters.time === 'morning' && (hour < 6 || hour >= 12)) {
          show = false;
        } else if (this.state.currentFilters.time === 'afternoon' && (hour < 12 || hour >= 18)) {
          show = false;
        } else if (this.state.currentFilters.time === 'evening' && (hour < 18 || hour >= 24)) {
          show = false;
        }
      }
      
      card.style.display = show ? 'block' : 'none';
      if (show) visibleCount++;
    });
    
    // Also filter tournaments by sport
    tournamentCards.forEach(card => {
      const sport = card.querySelector('.tournament-sport span:nth-child(2)')?.textContent || '';
      
      let show = true;
      
      // Sport filter
      if (this.state.currentFilters.sport !== 'All' && this.state.currentFilters.sport !== sport) {
        show = false;
      }
      
      card.style.display = show ? 'block' : 'none';
    });
    
    this.updateTodayCount(visibleCount);
  }

  resetFilters() {
    this.state.currentFilters = {
      sport: 'All',
      league: 'All',
      time: 'All'
    };
    
    const sportFilter = document.getElementById('sportFilter');
    const leagueFilter = document.getElementById('leagueFilter');
    const timeFilter = document.getElementById('timeFilter');
    
    if (sportFilter) sportFilter.value = 'All';
    if (leagueFilter) leagueFilter.value = 'All';
    if (timeFilter) timeFilter.value = 'All';
    
    this.filterFixtures();
  }

  showMatchDetails(matchId) {
    // Find the match in our sample data
    const allFixtures = [...this.fixturesData.today, ...this.fixturesData.upcoming];
    const fixture = allFixtures.find(f => f.fixtureId === matchId);
    
    if (fixture) {
      this.displayMatchModal(fixture);
    } else {
      this.showToast('Match details not available');
    }
  }

  displayMatchModal(fixture) {
    const matchModal = document.getElementById('matchModal');
    const matchModalTitle = document.getElementById('matchModalTitle');
    const matchModalContent = document.getElementById('matchModalContent');
    
    matchModalTitle.textContent = `${fixture.homeTeam.name} vs ${fixture.awayTeam.name}`;
    
    // Ensure date is a Date object
    const matchDate = fixture.date instanceof Date ? fixture.date : new Date(fixture.date);
    const formattedDate = matchDate.toLocaleDateString('en-US', {
      weekday: 'long',
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
    
    const matchDetailsHTML = `
      <div class="match-preview">
        <div class="match-header" style="margin-bottom: 20px;">
          <div class="match-sport">
            <span class="sport-icon">${this.getSportIcon(fixture.sport)}</span>
            <span>${fixture.sport}</span>
          </div>
          <div class="match-status">
            <span>${fixture.time}</span>
          </div>
        </div>
        
        <div class="match-teams" style="margin-bottom: 20px;">
          <div class="team home-team" style="margin-bottom: 15px;">
            <div class="team-info">
              <div class="team-logo">${fixture.homeTeam.shortCode || fixture.homeTeam.name.substring(0, 3)}</div>
              <div class="team-name" style="font-size: 18px;">${fixture.homeTeam.name}</div>
            </div>
          </div>
          <div class="team away-team">
            <div class="team-info">
              <div class="team-logo">${fixture.awayTeam.shortCode || fixture.awayTeam.name.substring(0, 3)}</div>
              <div class="team-name" style="font-size: 18px;">${fixture.awayTeam.name}</div>
            </div>
          </div>
        </div>
        
        <div class="match-details" style="margin-bottom: 20px;">
          <div class="match-venue">
            <i class="fas fa-map-marker-alt"></i>
            <strong>Venue:</strong> ${fixture.venue}
          </div>
          <div class="match-time">
            <i class="fas fa-clock"></i>
            <strong>Time:</strong> ${fixture.time}
          </div>
          <div class="match-competition">
            <i class="fas fa-trophy"></i>
            <strong>Competition:</strong> ${fixture.competition || fixture.league}
          </div>
          <div class="match-date">
            <i class="fas fa-calendar"></i>
            <strong>Date:</strong> ${formattedDate}
          </div>
          ${fixture.round ? `
          <div class="match-round">
            <i class="fas fa-flag"></i>
            <strong>Round:</strong> ${fixture.round}
          </div>
          ` : ''}
        </div>
        
        <div class="match-actions">
          <button class="btn reminder-btn" data-match-id="${fixture.fixtureId}" style="width: 100%; margin-bottom: 10px;">
            <span class="btn-text">Set Reminder</span>
            <span class="hover-text">Remove Reminder</span>
          </button>
        </div>
      </div>
    `;
    
    matchModalContent.innerHTML = matchDetailsHTML;
    matchModal.classList.add('active');
    
    // Update reminder button in modal
    this.updateModalReminderButton(fixture.fixtureId);
  }

  updateModalReminderButton(matchId) {
    const modalReminderBtn = document.querySelector('#matchModalContent .reminder-btn');
    if (!modalReminderBtn) return;
    
    const isReminderSet = this.state.remindedMatches.has(matchId);
    
    if (isReminderSet) {
      modalReminderBtn.classList.add('reminder-set');
      modalReminderBtn.querySelector('.btn-text').textContent = 'Reminder Set';
    } else {
      modalReminderBtn.classList.remove('reminder-set');
      modalReminderBtn.querySelector('.btn-text').textContent = 'Set Reminder';
    }
    
    // Add event listener to modal reminder button
    modalReminderBtn.addEventListener('click', () => {
      const matchCard = document.querySelector(`[data-match-id="${matchId}"]`);
      const matchData = this.getMatchData(matchCard);
      
      this.toggleReminder(matchId, matchData);
      
      // Update button state
      const isNowReminded = this.state.remindedMatches.has(matchId);
      if (isNowReminded) {
        modalReminderBtn.classList.add('reminder-set');
        modalReminderBtn.querySelector('.btn-text').textContent = 'Reminder Set';
      } else {
        modalReminderBtn.classList.remove('reminder-set');
        modalReminderBtn.querySelector('.btn-text').textContent = 'Set Reminder';
      }
    });
  }

  showTournamentDetails(tournamentId) {
    // In a real app, you would fetch tournament details from an API
    // For now, we'll use the local data
    const tournament = this.fixturesData.tournaments.find(t => t.id == tournamentId);
    
    if (!tournament) {
      this.showToast('Tournament details not available');
      return;
    }
    
    this.displayTournamentModal(tournament);
  }

  displayTournamentModal(tournament) {
    const tournamentModal = document.getElementById('tournamentModal');
    const tournamentModalTitle = document.getElementById('tournamentModalTitle');
    const tournamentModalContent = document.getElementById('tournamentModalContent');
    
    tournamentModalTitle.textContent = tournament.name;
    
    const tournamentDetailsHTML = `
      <div class="tournament-preview">
        <div class="tournament-header" style="margin-bottom: 20px;">
          <div class="tournament-sport">
            <span class="sport-icon">${this.getSportIcon(tournament.sport)}</span>
            <span>${tournament.sport}</span>
          </div>
          <div class="tournament-status-badge ${tournament.status === 'ongoing' ? 'ongoing' : 'upcoming'}">
            ${tournament.status === 'ongoing' ? 'Ongoing' : 'Upcoming'}
          </div>
        </div>
        
        <div class="tournament-details" style="margin-bottom: 20px;">
          <div class="tournament-dates">
            <i class="fas fa-calendar"></i>
            <strong>Dates:</strong> ${tournament.startDate} - ${tournament.endDate}
          </div>
          <div class="tournament-location">
            <i class="fas fa-map-marker-alt"></i>
            <strong>Location:</strong> ${tournament.location}
          </div>
          <div class="tournament-teams">
            <i class="fas fa-users"></i>
            <strong>Teams:</strong> ${tournament.teams}
          </div>
          ${tournament.description ? `
          <div class="tournament-description">
            <i class="fas fa-info-circle"></i>
            <strong>Description:</strong> ${tournament.description}
          </div>
          ` : ''}
          ${tournament.prizeMoney ? `
          <div class="tournament-prize">
            <i class="fas fa-award"></i>
            <strong>Prize Money:</strong> ${tournament.prizeMoney}
          </div>
          ` : ''}
        </div>
        
        <div class="tournament-actions">
          <button class="btn reminder-btn" data-tournament-id="${tournament.id}" style="width: 100%; margin-bottom: 10px;">
            <span class="btn-text">Follow Tournament</span>
            <span class="hover-text">Unfollow</span>
          </button>
          <button class="btn btn-secondary" style="width: 100%;" data-tournament-id="${tournament.id}">View Full Schedule</button>
        </div>
      </div>
    `;
    
    tournamentModalContent.innerHTML = tournamentDetailsHTML;
    tournamentModal.classList.add('active');
    
    // Update reminder button in modal
    this.updateTournamentModalReminderButton(tournament.id);
    
    // Add event listener to schedule button in modal
    const scheduleButton = tournamentModalContent.querySelector('.btn-secondary');
    if (scheduleButton) {
      scheduleButton.addEventListener('click', () => {
        this.showTournamentSchedule(tournament.id, tournament);
        tournamentModal.classList.remove('active');
      });
    }
  }

  updateTournamentModalReminderButton(tournamentId) {
    const modalReminderBtn = document.querySelector('#tournamentModalContent .reminder-btn');
    if (!modalReminderBtn) return;
    
    const isReminderSet = this.state.remindedTournaments.has(tournamentId);
    
    if (isReminderSet) {
      modalReminderBtn.classList.add('reminder-set');
      modalReminderBtn.querySelector('.btn-text').textContent = 'Following';
    } else {
      modalReminderBtn.classList.remove('reminder-set');
      modalReminderBtn.querySelector('.btn-text').textContent = 'Follow Tournament';
    }
    
    // Add event listener to modal reminder button
    modalReminderBtn.addEventListener('click', () => {
      const tournamentCard = document.querySelector(`[data-tournament-id="${tournamentId}"]`);
      const tournamentData = this.getTournamentData(tournamentCard);
      
      this.toggleTournamentReminder(tournamentId, tournamentData);
      
      // Update button state
      const isNowReminded = this.state.remindedTournaments.has(tournamentId);
      if (isNowReminded) {
        modalReminderBtn.classList.add('reminder-set');
        modalReminderBtn.querySelector('.btn-text').textContent = 'Following';
      } else {
        modalReminderBtn.classList.remove('reminder-set');
        modalReminderBtn.querySelector('.btn-text').textContent = 'Follow Tournament';
      }
    });
  }

  showTournamentSchedule(tournamentId, tournamentData) {
    // Show the tournament schedule in a modal
    const tournamentScheduleModal = document.getElementById('tournamentScheduleModal');
    const tournamentScheduleModalTitle = document.getElementById('tournamentScheduleModalTitle');
    const tournamentScheduleModalContent = document.getElementById('tournamentScheduleModalContent');
    
    tournamentScheduleModalTitle.textContent = `${tournamentData.name} - Full Schedule`;
    
    // Generate sample schedule data
    const scheduleData = this.generateTournamentSchedule(tournamentData);
    
    let scheduleHTML = `
      <div class="tournament-schedule">
        <div class="schedule-header">
          <div class="schedule-title">Complete Tournament Schedule</div>
        </div>
    `;
    
    // Add each stage of the tournament
    scheduleData.forEach(stage => {
      scheduleHTML += `
        <div class="schedule-stage">
          <div class="stage-header">
            <div class="stage-name">${stage.name}</div>
            <div class="stage-date">${stage.date}</div>
          </div>
          <div class="schedule-matches">
      `;
      
      // Add matches for this stage
      stage.matches.forEach(match => {
        scheduleHTML += `
          <div class="schedule-match">
            <div class="schedule-match-header">
              <div class="match-date">${match.date}</div>
              <div class="match-time">${match.time}</div>
            </div>
            <div class="schedule-teams">
              <div class="schedule-team">
                <div class="schedule-team-info">
                  <div class="team-logo">${match.homeTeam.substring(0, 3)}</div>
                  <div class="schedule-team-name">${match.homeTeam}</div>
                </div>
              </div>
              <div class="schedule-team">
                <div class="schedule-team-info">
                  <div class="team-logo">${match.awayTeam.substring(0, 3)}</div>
                  <div class="schedule-team-name">${match.awayTeam}</div>
                </div>
              </div>
            </div>
            <div class="schedule-venue">${match.venue}</div>
          </div>
        `;
      });
      
      scheduleHTML += `
          </div>
        </div>
      `;
    });
    
    scheduleHTML += `</div>`;
    
    tournamentScheduleModalContent.innerHTML = scheduleHTML;
    tournamentScheduleModal.classList.add('active');
  }

  generateTournamentSchedule(tournament) {
    // Generate comprehensive tournament schedules based on tournament type
    if (tournament.name === 'FIFA World Cup 2026') {
      return [
        {
          name: 'Group Stage',
          date: 'June 8 - June 24, 2026',
          matches: [
            { date: 'June 8', time: '12:00', homeTeam: 'Qatar', awayTeam: 'Ecuador', venue: 'Al Bayt Stadium' },
            { date: 'June 9', time: '15:00', homeTeam: 'England', awayTeam: 'Iran', venue: 'Khalifa International Stadium' },
            { date: 'June 10', time: '18:00', homeTeam: 'Argentina', awayTeam: 'Saudi Arabia', venue: 'Lusail Stadium' },
            { date: 'June 11', time: '14:00', homeTeam: 'France', awayTeam: 'Australia', venue: 'Al Janoub Stadium' },
            { date: 'June 12', time: '16:00', homeTeam: 'Brazil', awayTeam: 'Serbia', venue: 'Education City Stadium' }
          ]
        },
        {
          name: 'Round of 32',
          date: 'June 27 - June 30, 2026',
          matches: [
            { date: 'June 27', time: '16:00', homeTeam: 'Group A Winner', awayTeam: 'Group B Runner-up', venue: 'Al Bayt Stadium' },
            { date: 'June 28', time: '20:00', homeTeam: 'Group C Winner', awayTeam: 'Group D Runner-up', venue: 'Lusail Stadium' },
            { date: 'June 29', time: '18:00', homeTeam: 'Group E Winner', awayTeam: 'Group F Runner-up', venue: 'Education City Stadium' },
            { date: 'June 30', time: '22:00', homeTeam: 'Group G Winner', awayTeam: 'Group H Runner-up', venue: 'Al Janoub Stadium' }
          ]
        },
        {
          name: 'Round of 16',
          date: 'July 3 - July 6, 2026',
          matches: [
            { date: 'July 3', time: '18:00', homeTeam: 'Round of 32 Winner 1', awayTeam: 'Round of 32 Winner 2', venue: 'Al Bayt Stadium' },
            { date: 'July 4', time: '21:00', homeTeam: 'Round of 32 Winner 3', awayTeam: 'Round of 32 Winner 4', venue: 'Lusail Stadium' },
            { date: 'July 5', time: '18:00', homeTeam: 'Round of 32 Winner 5', awayTeam: 'Round of 32 Winner 6', venue: 'Education City Stadium' },
            { date: 'July 6', time: '21:00', homeTeam: 'Round of 32 Winner 7', awayTeam: 'Round of 32 Winner 8', venue: 'Al Janoub Stadium' }
          ]
        },
        {
          name: 'Quarterfinals',
          date: 'July 9 - July 10, 2026',
          matches: [
            { date: 'July 9', time: '18:00', homeTeam: 'Round of 16 Winner 1', awayTeam: 'Round of 16 Winner 2', venue: 'Lusail Stadium' },
            { date: 'July 9', time: '21:00', homeTeam: 'Round of 16 Winner 3', awayTeam: 'Round of 16 Winner 4', venue: 'Al Bayt Stadium' },
            { date: 'July 10', time: '18:00', homeTeam: 'Round of 16 Winner 5', awayTeam: 'Round of 16 Winner 6', venue: 'Education City Stadium' },
            { date: 'July 10', time: '21:00', homeTeam: 'Round of 16 Winner 7', awayTeam: 'Round of 16 Winner 8', venue: 'Al Janoub Stadium' }
          ]
        },
        {
          name: 'Semifinals',
          date: 'July 14 - July 15, 2026',
          matches: [
            { date: 'July 14', time: '20:00', homeTeam: 'Quarterfinal Winner 1', awayTeam: 'Quarterfinal Winner 2', venue: 'Al Bayt Stadium' },
            { date: 'July 15', time: '20:00', homeTeam: 'Quarterfinal Winner 3', awayTeam: 'Quarterfinal Winner 4', venue: 'Lusail Stadium' }
          ]
        },
        {
          name: 'Final',
          date: 'July 19, 2026',
          matches: [
            { date: 'July 19', time: '18:00', homeTeam: 'Semifinal Winner 1', awayTeam: 'Semifinal Winner 2', venue: 'Lusail Stadium' }
          ]
        }
      ];
    } else if (tournament.name === 'ICC Cricket World Cup') {
      return [
        {
          name: 'Group Stage',
          date: 'October 5 - October 30, 2024',
          matches: [
            { date: 'October 5', time: '14:30', homeTeam: 'England', awayTeam: 'New Zealand', venue: 'Ahmedabad' },
            { date: 'October 6', time: '14:30', homeTeam: 'India', awayTeam: 'Australia', venue: 'Chennai' },
            { date: 'October 7', time: '14:30', homeTeam: 'Pakistan', awayTeam: 'South Africa', venue: 'Delhi' },
            { date: 'October 8', time: '14:30', homeTeam: 'Bangladesh', awayTeam: 'Sri Lanka', venue: 'Mumbai' }
          ]
        },
        {
          name: 'Semifinals',
          date: 'November 14 - November 15, 2024',
          matches: [
            { date: 'November 14', time: '14:30', homeTeam: 'Group 1 Winner', awayTeam: 'Group 2 Runner-up', venue: 'Mumbai' },
            { date: 'November 15', time: '14:30', homeTeam: 'Group 2 Winner', awayTeam: 'Group 1 Runner-up', venue: 'Kolkata' }
          ]
        },
        {
          name: 'Final',
          date: 'November 19, 2024',
          matches: [
            { date: 'November 19', time: '14:30', homeTeam: 'Semifinal Winner 1', awayTeam: 'Semifinal Winner 2', venue: 'Ahmedabad' }
          ]
        }
      ];
    } else if (tournament.name === 'NBA Playoffs') {
      return [
        {
          name: 'First Round',
          date: 'April 15 - April 28, 2024',
          matches: [
            { date: 'April 15', time: '19:00', homeTeam: 'Eastern Conf 1', awayTeam: 'Eastern Conf 8', venue: 'Home Arena' },
            { date: 'April 16', time: '20:30', homeTeam: 'Western Conf 1', awayTeam: 'Western Conf 8', venue: 'Home Arena' },
            { date: 'April 17', time: '19:00', homeTeam: 'Eastern Conf 2', awayTeam: 'Eastern Conf 7', venue: 'Home Arena' },
            { date: 'April 18', time: '22:00', homeTeam: 'Western Conf 2', awayTeam: 'Western Conf 7', venue: 'Home Arena' }
          ]
        },
        {
          name: 'Conference Semifinals',
          date: 'April 30 - May 12, 2024',
          matches: [
            { date: 'April 30', time: '19:00', homeTeam: 'First Round Winner', awayTeam: 'First Round Winner', venue: 'Home Arena' },
            { date: 'May 1', time: '20:30', homeTeam: 'First Round Winner', awayTeam: 'First Round Winner', venue: 'Home Arena' },
            { date: 'May 2', time: '19:00', homeTeam: 'First Round Winner', awayTeam: 'First Round Winner', venue: 'Home Arena' },
            { date: 'May 3', time: '22:00', homeTeam: 'First Round Winner', awayTeam: 'First Round Winner', venue: 'Home Arena' }
          ]
        },
        {
          name: 'Conference Finals',
          date: 'May 14 - May 27, 2024',
          matches: [
            { date: 'May 14', time: '20:30', homeTeam: 'Semifinal Winner', awayTeam: 'Semifinal Winner', venue: 'Home Arena' },
            { date: 'May 15', time: '20:30', homeTeam: 'Semifinal Winner', awayTeam: 'Semifinal Winner', venue: 'Home Arena' },
            { date: 'May 16', time: '21:00', homeTeam: 'Semifinal Winner', awayTeam: 'Semifinal Winner', venue: 'Home Arena' }
          ]
        },
        {
          name: 'NBA Finals',
          date: 'June 1 - June 18, 2024',
          matches: [
            { date: 'June 1', time: '20:00', homeTeam: 'Eastern Conf Champion', awayTeam: 'Western Conf Champion', venue: 'Home Arena' },
            { date: 'June 4', time: '20:00', homeTeam: 'Western Conf Champion', awayTeam: 'Eastern Conf Champion', venue: 'Home Arena' },
            { date: 'June 7', time: '20:00', homeTeam: 'Eastern Conf Champion', awayTeam: 'Western Conf Champion', venue: 'Home Arena' },
            { date: 'June 9', time: '20:00', homeTeam: 'Western Conf Champion', awayTeam: 'Eastern Conf Champion', venue: 'Home Arena' },
            { date: 'June 12', time: '20:00', homeTeam: 'Eastern Conf Champion', awayTeam: 'Western Conf Champion', venue: 'Home Arena' },
            { date: 'June 15', time: '20:00', homeTeam: 'Western Conf Champion', awayTeam: 'Eastern Conf Champion', venue: 'Home Arena' },
            { date: 'June 18', time: '20:00', homeTeam: 'Eastern Conf Champion', awayTeam: 'Western Conf Champion', venue: 'Home Arena' }
          ]
        }
      ];
    } else if (tournament.name === 'Wimbledon Championships') {
      return [
        {
          name: 'First Round',
          date: 'July 1 - July 3, 2024',
          matches: [
            { date: 'July 1', time: '13:00', homeTeam: 'Novak Djokovic', awayTeam: 'Qualifier', venue: 'Centre Court' },
            { date: 'July 1', time: '15:30', homeTeam: 'Carlos Alcaraz', awayTeam: 'Qualifier', venue: 'Court 1' },
            { date: 'July 2', time: '13:00', homeTeam: 'Iga Swiatek', awayTeam: 'Qualifier', venue: 'Centre Court' }
          ]
        },
        {
          name: 'Second Round',
          date: 'July 4 - July 5, 2024',
          matches: [
            { date: 'July 4', time: '13:00', homeTeam: 'First Round Winner', awayTeam: 'First Round Winner', venue: 'Centre Court' },
            { date: 'July 4', time: '15:30', homeTeam: 'First Round Winner', awayTeam: 'First Round Winner', venue: 'Court 1' }
          ]
        },
        {
          name: 'Third Round',
          date: 'July 6 - July 7, 2024',
          matches: [
            { date: 'July 6', time: '13:00', homeTeam: 'Second Round Winner', awayTeam: 'Second Round Winner', venue: 'Centre Court' },
            { date: 'July 6', time: '15:30', homeTeam: 'Second Round Winner', awayTeam: 'Second Round Winner', venue: 'Court 1' }
          ]
        },
        {
          name: 'Quarterfinals',
          date: 'July 9 - July 10, 2024',
          matches: [
            { date: 'July 9', time: '13:00', homeTeam: 'Third Round Winner', awayTeam: 'Third Round Winner', venue: 'Centre Court' },
            { date: 'July 10', time: '13:00', homeTeam: 'Third Round Winner', awayTeam: 'Third Round Winner', venue: 'Centre Court' }
          ]
        },
        {
          name: 'Semifinals',
          date: 'July 11 - July 12, 2024',
          matches: [
            { date: 'July 11', time: '13:00', homeTeam: 'Quarterfinal Winner', awayTeam: 'Quarterfinal Winner', venue: 'Centre Court' },
            { date: 'July 12', time: '13:00', homeTeam: 'Quarterfinal Winner', awayTeam: 'Quarterfinal Winner', venue: 'Centre Court' }
          ]
        },
        {
          name: 'Finals',
          date: 'July 13 - July 14, 2024',
          matches: [
            { date: 'July 13', time: '14:00', homeTeam: 'Women\'s Semifinal Winner', awayTeam: 'Women\'s Semifinal Winner', venue: 'Centre Court' },
            { date: 'July 14', time: '14:00', homeTeam: 'Men\'s Semifinal Winner', awayTeam: 'Men\'s Semifinal Winner', venue: 'Centre Court' }
          ]
        }
      ];
    } else {
      // Generic tournament schedule for other tournaments
      return [
        {
          name: 'Preliminary Rounds',
          date: tournament.startDate,
          matches: [
            { date: tournament.startDate, time: '10:00', homeTeam: 'Participant 1', awayTeam: 'Participant 2', venue: tournament.location },
            { date: tournament.startDate, time: '14:00', homeTeam: 'Participant 3', awayTeam: 'Participant 4', venue: tournament.location },
            { date: tournament.startDate, time: '18:00', homeTeam: 'Participant 5', awayTeam: 'Participant 6', venue: tournament.location }
          ]
        },
        {
          name: 'Quarterfinals',
          date: tournament.startDate,
          matches: [
            { date: tournament.startDate, time: '16:00', homeTeam: 'Round 1 Winner', awayTeam: 'Round 1 Winner', venue: tournament.location },
            { date: tournament.startDate, time: '20:00', homeTeam: 'Round 1 Winner', awayTeam: 'Round 1 Winner', venue: tournament.location }
          ]
        },
        {
          name: 'Semifinals',
          date: tournament.endDate,
          matches: [
            { date: tournament.endDate, time: '15:00', homeTeam: 'Quarterfinal Winner', awayTeam: 'Quarterfinal Winner', venue: tournament.location },
            { date: tournament.endDate, time: '19:00', homeTeam: 'Quarterfinal Winner', awayTeam: 'Quarterfinal Winner', venue: tournament.location }
          ]
        },
        {
          name: 'Final',
          date: tournament.endDate,
          matches: [
            { date: tournament.endDate, time: '18:00', homeTeam: 'Semifinal Winner', awayTeam: 'Semifinal Winner', venue: tournament.location }
          ]
        }
      ];
    }
  }

  showToast(message) {
    const toast = document.getElementById('toast');
    if (!toast) return;
    
    toast.textContent = message;
    toast.classList.add('show');
    
    setTimeout(() => {
      toast.classList.remove('show');
    }, 3000);
  }
}

// Initialize the app when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  console.log("Fixtures page loaded");
  window.fixturesApp = new FixturesApp();
});
</script>
</body>
</html>